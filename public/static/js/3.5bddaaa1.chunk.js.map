{"version":3,"sources":["common/components/NoData/NoDataComponent.js","common/components/NoData/NoData.png","common/components/BizCharts/BarChart.js","common/components/TableToExcel/index.js","common/components/BizCharts/DownloadChart.js","common/components/MainCard/index.js","pages/others/mainCard/ExampleNormal.js"],"names":["NoDataComponent","react__WEBPACK_IMPORTED_MODULE_11___default","a","createElement","antd_lib_row__WEBPACK_IMPORTED_MODULE_1___default","className","style","height","this","props","data","antd_lib_col__WEBPACK_IMPORTED_MODULE_5___default","span","src","noDataImg","alt","antd_lib_spin__WEBPACK_IMPORTED_MODULE_3___default","size","Component","module","exports","BarChart","ev","onFirstLoad","onClickAction","nameKey","_this","isBase","fields","react__WEBPACK_IMPORTED_MODULE_5___default","_NoData_NoDataComponent__WEBPACK_IMPORTED_MODULE_8__","Object","keys","forEach","item","index","push","bizcharts__WEBPACK_IMPORTED_MODULE_6__","scale","scales","padding","forceFit","onGetG2Instance","onPlotClick","transpose","name","label","keyLabel","noLegend","marker","crosshairs","type","geomType","position","geomSize","color","colors","shape","adjust","tooltip","geomTooltip","children","dv","DataSet","createView","source","transform","length","key","value","marginRatio","Shape","registerShape","getPoints","cfg","x","y","y0","width","draw","container","points","parsePoints","addShape","attrs","fill","TableToExcel","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","base64","s","window","btoa","unescape","encodeURIComponent","format","c","replace","m","p","handleDownload","document","table","console","error","getElementById","nodeType","nodeName","outerHTML","sheet","String","filename","concat","context","worksheet","element","href","download","body","appendChild","click","removeChild","bind","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","content","react__WEBPACK_IMPORTED_MODULE_8___default","onClick","antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default","id","buttonText","Fragment","DownloadChart","handleClick","_this$props","chartIns","title","imageType","fillStyle","canvas","get","_cfg","el","ctx","getContext","fillRect","drawImage","image","toDataURL","$a","setAttribute","_react_16_6_3_react_default","MainCard","card_default","lineHeight","extra","radio_default","Group","tab","marginRight","onChange","changeTab","Button","icon_default","theme","BizCharts_DownloadChart","downloadChart","button_default","assign","tableToExcel","ExampleNormal","state","undefined","e","setState","target","refs","ReactDOM","findDOMNode","querySelector","_this2","tableData","college","grade","number","total","rate","myArray","Array","count","startindex","i","val","func","columns","dataIndex","render","row","obj","rowSpan","components_MainCard","table_default","dataSource","ref","bordered"],"mappings":"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","file":"static/js/3.5bddaaa1.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Row, Col, Spin} from 'antd';\r\n\r\nimport noDataImg from './NoData.png';\r\nimport './noData.less';\r\n\r\n/**\r\n * data  无值时显示加载动画，设置为'nodata'时显示暂无数据\r\n * height  设置组件高度, 默认height为100%\r\n */\r\nclass NoDataComponent extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Row className={\"no-data-con\"} style={{height: this.props.height ? this.props.height : '100%'}}>\r\n                {this.props.data === 'nodata' ? <Col span={24} className={\"no-data\"}><img src={noDataImg} alt=\"nodata\"/></Col> :\r\n                    <Spin size=\"large\"/>}\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NoDataComponent;\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAAA0CAYAAABhPmF9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZERDJBNjVBNUU1NTExRTg5MkJCOTMzRjQwM0I5RjQ0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZERDJBNjVCNUU1NTExRTg5MkJCOTMzRjQwM0I5RjQ0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkREMkE2NTg1RTU1MTFFODkyQkI5MzNGNDAzQjlGNDQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkREMkE2NTk1RTU1MTFFODkyQkI5MzNGNDAzQjlGNDQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5v1DDkAAAMrUlEQVR42uxd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\"","import React, { Component } from 'react';\r\nimport { Chart, Geom, Axis, Tooltip, Coord, Legend, Shape } from \"bizcharts\"\r\nimport { DataSet } from '@antv/data-set';\r\nimport NoData from '../NoData/NoDataComponent';\r\n\r\n// 柱状图\r\nclass BarChart extends Component {\r\n    // 第一次加载完触发事件\r\n    onFirstLoad(ev){\r\n        if(this.props.onFirstLoad){\r\n            this.props.onFirstLoad(ev);\r\n        }\r\n    }\r\n    // 点击事件\r\n    onClickAction(ev){\r\n        if(this.props.onClickAction){\r\n            this.props.onClickAction(ev);\r\n        }\r\n    }\r\n    render() {\r\n        /**\r\n         * 可接受参数设置\r\n         * height  高度，默认350\r\n         * data  数据，json格式\r\n         * padding  设置内边距 数组格式，默认[30, 20, 60, 50]\r\n         * noLegend  是否需要Legend，默认为false，显示Legend\r\n         * colors  颜色设置 数组格式\r\n         * geomType  设置Geom的type类型:\r\n         *              interval(默认)\r\n         *              intervalStack(层叠柱状图)\r\n         *              intervalDodge(分组柱状图)\r\n         *              intervalSymmetric(对称柱状图)\r\n         * transpose  设置是否横向\r\n         * onFirstLoad  第一次加载完触发事件\r\n         * onClickAction  点击事件\r\n         * children  内容部分\r\n         * \r\n         * 2018/10/23\r\n         * geomSize 设置柱状图柱子宽度，Number类型\r\n         * geomTooltip 配置geom tooltip\r\n         * \r\n         * 2018/10/29\r\n         * isBase 是否是基础柱状图，单柱状图\r\n         * shape 设置geom的shape属性\r\n         * adjust 设置geom的adjust属性\r\n         * scales 设置chart组件的scale属性 (参考链接https://bizcharts.net/products/bizCharts/api/chart#scale)\r\n         * keyLabel 设置主轴label (参考链接https://bizcharts.net/products/bizCharts/api/axis#label)\r\n         */\r\n\r\n        const height = this.props.height || 350; // 高度设置，默认值\r\n        const data = this.props.data || []; // 数据\r\n        const isBase = this.props.isBase || false; //是否是基础图表\r\n        let fields=[], nameKey; // 获取关键字\r\n        if (data && data[0]) {\r\n            nameKey = Object.keys(data[0])[0];// 获取json第一个对象的第一个键名称\r\n            // 获取json对象子节点除去第一个键的其他键字段集合\r\n            Object.keys(data[0]).forEach((item,index)=>{\r\n                if(index!==0){\r\n                    fields.push(item);\r\n                }\r\n            })\r\n        } else {\r\n            // 无数据时\r\n            return (<NoData height={height} data={'nodata'}/>);\r\n        }\r\n        // 如果是基础图表（非分组柱状图）\r\n        if(isBase){\r\n            return (\r\n                <Chart height={height} data={data} scale={this.props.scales} padding={this.props.padding} forceFit\r\n                    onGetG2Instance={(ev)=>this.onFirstLoad(ev)}\r\n                    onPlotClick={(ev)=>this.onClickAction(ev)}\r\n                    >\r\n                    {this.props.transpose?<Coord transpose />:null}\r\n                    <Axis name={nameKey} label={this.props.keyLabel} />\r\n                    <Axis name={fields[0]} />\r\n                    {this.props.noLegend?null:<Legend marker={'circle'}/>}\r\n                    <Tooltip crosshairs={{type : \"y\"}}/>\r\n                    <Geom \r\n                        type={this.props.geomType || 'interval'} \r\n                        position={nameKey+\"*\"+fields[0]} \r\n                        size={this.props.geomSize}\r\n                        color={[nameKey,this.props.colors]} \r\n                        shape={this.props.shape}\r\n                        adjust={this.props.adjust} tooltip={this.props.geomTooltip} />\r\n                    {this.props.children}\r\n                </Chart>\r\n            )\r\n        }\r\n        // 分组图\r\n        const ds = new DataSet(); // dateset数据集方法\r\n        const dv = ds.createView().source(data);// 数据转换\r\n        // 初始化参数\r\n        dv.source(data).transform({\r\n            type: 'fold',\r\n            fields: fields.length>0?fields:['null'],\r\n            key: 'type',\r\n            value: 'value'\r\n        });\r\n        return (\r\n            <Chart height={height} data={dv} scale={this.props.scales} padding={this.props.padding} forceFit\r\n                onGetG2Instance={(ev)=>this.onFirstLoad(ev)}\r\n                onPlotClick={(ev)=>this.onClickAction(ev)}\r\n                >\r\n                {this.props.transpose?<Coord transpose />:null}\r\n                <Axis name={nameKey} label={this.props.keyLabel} />\r\n                <Axis name=\"value\" />\r\n                {this.props.noLegend?null:<Legend marker={'circle'}/>}\r\n                <Tooltip crosshairs={{type : \"y\"}}/>\r\n                <Geom \r\n                    type={this.props.geomType || 'interval'} \r\n                    position={nameKey+\"*value\"} \r\n                    size={this.props.geomSize}\r\n                    color={['type',this.props.colors]} \r\n                    shape={this.props.shape}\r\n                    adjust={this.props.adjust || [{type: 'dodge',marginRatio: 1/32}]} tooltip={this.props.geomTooltip} />\r\n                {this.props.children}\r\n            </Chart>\r\n        )\r\n    }\r\n}\r\n\r\n// 自定义shape - 三角形\r\nShape.registerShape('interval', 'triangle', {\r\n    getPoints(cfg) {\r\n      const x = cfg.x;\r\n      const y = cfg.y;\r\n      const y0 = cfg.y0;\r\n      const width = cfg.size;\r\n      return [\r\n        { x: x - width / 2, y: y0 },\r\n        { x: x, y: y },\r\n        { x: x + width / 2, y: y0 }\r\n      ]\r\n    },\r\n    draw(cfg, container) {\r\n      const points = this.parsePoints(cfg.points); // 将0-1空间的坐标转换为画布坐标\r\n      const polygon = container.addShape('polygon', {\r\n        attrs: {\r\n          points: [\r\n            [ points[0].x, points[0].y ],\r\n            [ points[1].x, points[1].y ],\r\n            [ points[2].x, points[2].y ]\r\n          ],\r\n          fill: cfg.color\r\n        }\r\n      });\r\n      return polygon; // 将自定义Shape返回\r\n    }\r\n});\r\n\r\nexport default BarChart;","import React, { Component } from 'react';\r\nimport { Button } from 'antd'\r\n\r\nclass TableToExcel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleDownload = this.handleDownload.bind(this);\r\n    }\r\n\r\n    base64 = (s) => {\r\n        return window.btoa(unescape(encodeURIComponent(s)));\r\n    }\r\n\r\n    format = (s, c) => {\r\n        return s.replace(/{(\\w+)}/g, (m, p) => c[p]);\r\n    }\r\n\r\n    handleDownload = ()=> {\r\n        if (!document) {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                console.error('Failed to access document object');\r\n            }\r\n            return null;\r\n        }\r\n        if(!this.props.table){\r\n            console.error('需传入table参数，参数为table的id！');\r\n            return null;\r\n        }\r\n        if (document.getElementById(this.props.table).nodeType !== 1 || document.getElementById(this.props.table).nodeName !== 'TABLE') {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                console.error('Provided table property is not html table element');\r\n            }\r\n\r\n            return null;\r\n        }\r\n        const table = document.getElementById(this.props.table).outerHTML;\r\n        const sheet = String(this.props.sheet);\r\n        const filename = `${String(this.props.filename)}.xls`;\r\n\r\n        const uri = 'data:application/vnd.ms-excel;base64,';\r\n        const template =\r\n            '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-mic' +\r\n            'rosoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta cha' +\r\n            'rset=\"UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:Exce' +\r\n            'lWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/>' +\r\n            '</x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></' +\r\n            'xml><![endif]--></head><body>{table}</body></html>';\r\n\r\n        const context = {\r\n            worksheet: sheet || 'Worksheet',\r\n            table,\r\n        };\r\n\r\n        const element = window.document.createElement('a');\r\n        element.href =\r\n            uri +\r\n            this.base64(\r\n                this.format(template, context),\r\n            );\r\n        element.download = filename;\r\n        document.body.appendChild(element);\r\n        element.click();\r\n        document.body.removeChild(element);\r\n\r\n        return true;\r\n    }\r\n    render() {\r\n        const content = this.props.content?(\r\n            <span onClick={this.handleDownload}>{this.props.content}</span>\r\n        ):(\r\n            <Button\r\n                id={this.props.id}\r\n                className={this.props.className}\r\n                onClick={this.handleDownload}\r\n            >\r\n                {this.props.buttonText}\r\n            </Button>\r\n        )\r\n        return (\r\n            <React.Fragment>{content}</React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableToExcel;","import React, { Component } from 'react';\r\n\r\n/**\r\n * chartIns BizChart实例\r\n * title 图片下载名称\r\n * imageType 图片类型 默认\"image/jpeg\"\r\n * fillStyle 图片背景填充颜色 默认#fff白色\r\n */\r\nclass DownloadChart extends Component {\r\n    handleClick = () => {\r\n        const { chartIns, title, imageType, fillStyle } = this.props;\r\n        if(!chartIns){\r\n            console.error('下载组件缺少参数chartIns');\r\n            return;\r\n        }\r\n        const canvas = document.createElement('canvas');\r\n        canvas.height = chartIns.get('canvas')._cfg.el.height;\r\n        canvas.width = chartIns.get('canvas')._cfg.el.width;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = fillStyle || \"#fff\";\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.drawImage(chartIns.get('canvas')._cfg.el, 0, 0);\r\n        var image = canvas.toDataURL(imageType || \"image/jpeg\");\r\n        var $a = document.createElement('a');\r\n        $a.setAttribute(\"href\", image);\r\n        $a.setAttribute(\"download\", title);\r\n        $a.click();\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <span onClick={this.handleClick}>\r\n                {this.props.children}\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DownloadChart;","import React, { Component } from 'react';\r\nimport { Card, Radio, Icon, Button } from 'antd';\r\nimport DownloadChart from '../BizCharts/DownloadChart'\r\nimport ReactHTMLTableToExcel from '../TableToExcel';\r\n\r\nclass MainCard extends Component {\r\n    render () {\r\n        return (\r\n            <Card \r\n                title={<div style={{lineHeight:'34px'}}>{this.props.title}</div>}\r\n                extra={this.props.extra || <React.Fragment>\r\n                    <Radio.Group value={this.props.tab || '1'} style={{marginRight:20}} onChange={this.props.changeTab} >\r\n                        <Radio.Button value=\"1\"><Icon type=\"bar-chart\" theme=\"outlined\" /></Radio.Button>\r\n                        <Radio.Button value=\"2\"><Icon type=\"ordered-list\" theme=\"outlined\" /></Radio.Button>\r\n                    </Radio.Group>\r\n                    {this.props.tab==='1'?(\r\n                        <DownloadChart {...(this.props.downloadChart || {})}>\r\n                            <Button type=\"primary\">导 出</Button>\r\n                        </DownloadChart>\r\n                    ):(\r\n                        <ReactHTMLTableToExcel\r\n                            {...(this.props.tableToExcel || {})}\r\n                            content={<Button type=\"primary\">导 出</Button>} />\r\n                    )}\r\n                    \r\n                </React.Fragment>}\r\n            >\r\n                {this.props.children}\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MainCard;","import React, { Component } from 'react';\r\nimport { Table } from 'antd';\r\nimport ReactDOM from 'react-dom';\r\nimport MainCard from '../../../common/components/MainCard';\r\nimport BarChart from '../../../common/components/BizCharts/BarChart';\r\n\r\n\r\nclass ExampleNormal extends Component {\r\n    state = {\r\n        tab: '1',\r\n        chartIns: undefined\r\n    }\r\n    changeTab = (e) => {\r\n        this.setState({ tab: e.target.value }, () => {\r\n            if (this.refs['table']) {\r\n                const tableCon = ReactDOM.findDOMNode(this.refs['table'])\r\n                const table = tableCon.querySelector('table')\r\n                table.setAttribute('id', 'table-to-xls')\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const chartData = [\r\n            { name: '计算机院', value: 117 },\r\n            { name: '经济学院', value: 217 },\r\n            { name: '法学院', value: 157 },\r\n            { name: '电子信息学院', value: 227 },\r\n            { name: '材料学院', value: 257 },\r\n        ]\r\n        const tableData = [\r\n            { key: '1', college: '建筑学院', grade: 2018, number: 165, total: 788, rate: '5%' },\r\n            { key: '2', college: '建筑学院', grade: 2017, number: 125, total: 788, rate: '5%' },\r\n            { key: '3', college: '建筑学院', grade: 2016, number: 123, total: 788, rate: '5%' },\r\n            { key: '4', college: '建筑学院', grade: 2015, number: 165, total: 788, rate: '5%' },\r\n            { key: '5', college: '建筑学院', grade: 2014, number: 123, total: 788, rate: '5%' },\r\n            { key: '6', college: '计算机学院', grade: 2018, number: 165, total: 788, rate: '5%' },\r\n            { key: '7', college: '计算机学院', grade: 2017, number: 125, total: 788, rate: '5%' },\r\n            { key: '8', college: '计算机学院', grade: 2016, number: 123, total: 788, rate: '5%' },\r\n            { key: '9', college: '计算机学院', grade: 2015, number: 165, total: 788, rate: '5%' },\r\n            { key: '10', college: '计算机学院', grade: 2014, number: 123, total: 788, rate: '5%' },\r\n        ];\r\n\r\n        var myArray = new Array(tableData.length);\r\n\r\n        var func = (data, key) => {\r\n            //保存上一个name\r\n            var x = \"\";\r\n            //相同name出现的次数\r\n            var count = 0;\r\n            //该name第一次出现的位置\r\n            var startindex = 0;\r\n\r\n            for (var i = 0; i < data.length; i++) {\r\n                //这里是合并name列，根据各自情况大家可以自己完善\r\n                var val = data[(i)][key];\r\n                if (i === 0) {\r\n                    x = val;\r\n                    count = 1;\r\n                    myArray[0] = 1\r\n                } else {\r\n                    if (val === x) {\r\n                        count++;\r\n                        myArray[startindex] = count;\r\n                        myArray[i] = 0\r\n                    } else {\r\n                        count = 1;\r\n                        x = val;\r\n                        startindex = i;\r\n                        myArray[i] = 1\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        func(tableData, 'college')\r\n\r\n        const columns = [{\r\n            title: '院系',\r\n            dataIndex: 'college',\r\n            render: (value, row, index) => {\r\n                const obj = {\r\n                    children: value,\r\n                    props: {},\r\n                };\r\n                obj.props.rowSpan = myArray[index];\r\n                return obj\r\n            },\r\n        }, {\r\n            title: '年级',\r\n            dataIndex: 'grade',\r\n        }, {\r\n            title: '人数',\r\n            dataIndex: 'number'\r\n        }, {\r\n            title: '小计',\r\n            dataIndex: 'total',\r\n            render: (value, row, index) => {\r\n                const obj = {\r\n                    children: value,\r\n                    props: {},\r\n                };\r\n                obj.props.rowSpan = myArray[index];\r\n                return obj\r\n            },\r\n        }, {\r\n            title: '占学生总数比例',\r\n            dataIndex: 'rate',\r\n        }];\r\n\r\n        return (\r\n            <MainCard\r\n                title={\"学生整体分析（学院/专业）\"}\r\n                tab={this.state.tab}\r\n                changeTab={this.changeTab}\r\n                downloadChart={{\r\n                    chartIns: this.state.chartIns,\r\n                    title: \"学生整体分析（学院/专业）\"\r\n                }}\r\n                tableToExcel={{\r\n                    table: 'table-to-xls',\r\n                    filename: 'excel下载'\r\n                }}\r\n            >\r\n                {this.state.tab === '1' ? (\r\n                    <BarChart data={chartData}\r\n                        noLegend\r\n                        onFirstLoad={(chartIns) => {\r\n                            this.setState({ chartIns })\r\n                        }} />\r\n                ) : (\r\n                        <Table dataSource={tableData} ref='table' columns={columns} bordered />\r\n                    )}\r\n            </MainCard>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ExampleNormal;"],"sourceRoot":""}