(window.webpackJsonp=window.webpackJsonp||[]).push([[4,18,19,20,21,22,35,36],{576:function(e,t,a){"use strict";a.r(t);a(549);var n=a(550),i=a.n(n),s=(a(134),a(551)),r=a.n(s),l=(a(546),a(547)),c=a.n(l),o=a(28),d=a(29),u=a(31),h=a(30),f=a(32),m=a(1),p=a.n(m),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={name:""},a.nameChange=function(e){a.setState({name:e.target.value})},a.handleOk=function(){a.state.name?a.props.sureAdd(a.state.name):c.a.warn("请输入正确的节点（列）名称！！！")},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return p.a.createElement(i.a,{title:"新增节点（列）",visible:!0,onOk:this.handleOk,onCancel:this.props.hideAddModal},p.a.createElement(r.a,{placeholder:"请输入节点（列）名称",onChange:this.nameChange}))}}]),t}(p.a.Component);t.default=y},577:function(e,t,a){"use strict";a.r(t);a(549);var n=a(550),i=a.n(n),s=a(28),r=a(29),l=a(31),c=a(30),o=a(32),d=a(1),u=a.n(d),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).handleOk=function(){a.props.sureDelete()},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(i.a,{title:"删除提醒",visible:!0,onOk:this.handleOk,onCancel:this.props.hideDeleteWarning},"确定删除当前节点(列), 以及当前节点(列)下面的所有子节点(子列)?")}}]),t}(u.a.Component);t.default=h},578:function(e,t,a){"use strict";a.r(t);a(549);var n=a(550),i=a.n(n),s=(a(134),a(551)),r=a.n(s),l=(a(546),a(547)),c=a.n(l),o=a(28),d=a(29),u=a(31),h=a(30),f=a(32),m=a(1),p=a.n(m),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={name:""},a.nameChange=function(e){a.setState({name:e.target.value})},a.handleOk=function(){a.state.name?a.props.sureEdit(a.state.name):c.a.warn("请输入正确的节点（列）名称！！！")},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({name:this.props.title})}},{key:"render",value:function(){return p.a.createElement(i.a,{title:"编辑节点（列）",visible:!0,onOk:this.handleOk,onCancel:this.props.hideEdit},p.a.createElement(r.a,{value:this.state.name,onChange:this.nameChange}))}}]),t}(p.a.Component);t.default=y},583:function(e,t,a){e.exports=a.p+"static/media/guide.16192bc0.png"},584:function(e,t,a){e.exports=a.p+"static/media/add.b4bd1cd9.png"},589:function(e,t,a){"use strict";a.r(t);a(539);var n=a(540),i=a.n(n),s=(a(553),a(554)),r=a.n(s),l=a(135),c=a(559),o=a(28),d=a(29),u=a(31),h=a(30),f=a(32),m=a(1),p=a.n(m),y=a(583),g=a.n(y),O={key:"0"},S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getData=function(e){e.forEach(function(e,t){e.children&&e.children[0]?a.getData(e.children):O=Object(c.a)({},O,Object(l.a)({},"columns_".concat(e.key),"-"))})},a.getColumns=function(e){return e.forEach(function(e,t){e.dataIndex="columns_"+e.key,e.children&&e.children[0]&&(e.children=a.getColumns(e.children))}),e},a.state={columns:[],data:[],width:"100%"},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(O={key:"0"},e.columns&&e.columns[0]){var t=this.getColumns(e.columns);sessionStorage.setItem("colums",JSON.stringify(t)),this.getData(e.columns);var a=Object.keys(O),n="100%";a.length>=6&&(n=50*((a.length-1)/5-1)+100+"%"),this.setState({columns:t,data:[O],width:n})}else sessionStorage.setItem("colums",null),this.setState({columns:[],data:[],width:"100%"})}},{key:"render",value:function(){return p.a.createElement(i.a,{style:{height:"100%",overflow:"hidden"},bodyStyle:{height:"100%",overflow:"auto",marginBottom:"-56px",paddingBottom:"-56px"},title:"预览"},this.state.columns&&this.state.columns[0]?p.a.createElement(r.a,{columns:this.state.columns,dataSource:this.state.data,bordered:!0,scroll:{x:this.state.width,y:600}}):p.a.createElement("p",{style:{textAlign:"center",paddingTop:"50px"}},p.a.createElement("img",{src:g.a,alt:""})))}}]),t}(p.a.Component);t.default=S},590:function(e,t,a){"use strict";a.r(t);a(539);var n=a(540),i=a.n(n),s=(a(552),a(19)),r=a.n(s),l=a(561),c=(a(546),a(547)),o=a.n(c),d=a(28),u=a(29),h=a(31),f=a(30),m=a(32),p=(a(555),a(556)),y=a.n(p),g=a(1),O=a.n(g),S=a(576),k=a(577),b=a(578),v=a(584),E=a.n(v),D=y.a.TreeNode,j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).onSelect=function(e,t){var n=t.node.props.dataRef?t.node.props.dataRef.children:null,i=t.node.props.title,s=e[0];a.setState({selectedKeys:e,key:s,title:i,children:n})},a.renderTreeNodes=function(e){return e.map(function(e){return e.children?O.a.createElement(D,{title:e.title,key:e.key,dataRef:e},a.renderTreeNodes(e.children)):O.a.createElement(D,e)})},a.addNode=function(){a.setState({addStatus:!0})},a.deleteNode=function(){a.state.selectedKeys&&a.state.selectedKeys[0]?a.setState({deleteStatus:!0}):o.a.warn("请点击选择要删除的节点（列）！！！")},a.editNode=function(){a.state.selectedKeys&&a.state.selectedKeys[0]?a.setState({editStatus:!0}):o.a.warn("请点击选择要编辑的节点（列）！！！")},a.hideAddModal=function(){a.setState({addStatus:!1})},a.hideDeleteWarning=function(){a.setState({deleteStatus:!1})},a.hideEdit=function(){a.setState({editStatus:!1})},a.addNewData=function(e,t){return e.map(function(e){return e.key===a.state.key?e=t:e.children&&e.children[0]&&(e.children=a.addNewData(e.children,t)),e})},a.sureAdd=function(e){if(a.state.key){var t;t=a.state.children&&a.state.children[0]?Object(l.a)(a.state.children).concat([{title:e,key:a.state.key+"_"+a.state.children.length}]):[{title:e,key:a.state.key+"_0"}];var n={title:a.state.title,key:a.state.key,children:t},i=a.addNewData(a.state.treeData,n);a.setState({treeData:i,children:n.children},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))})}else a.setState({treeData:Object(l.a)(a.state.treeData).concat([{title:e,key:"0_"+a.state.treeData.length}])},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))});a.setState({addStatus:!1})},a.deleteNewData=function(e){return e.forEach(function(t,n){t.key===a.state.key?e.splice(n,1):t.children&&t.children[0]&&(t.children=a.deleteNewData(t.children))}),e.forEach(function(t,a){var n=t.key.split("-");n[n.length-1]=a,e[a].key=n.join("-")}),e},a.sureDelete=function(){var e=a.deleteNewData(a.state.treeData);a.setState({treeData:e,title:"",key:"",children:null,selectedKeys:[],deleteStatus:!1},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))})},a.editNewData=function(e,t){return e.forEach(function(e,n){e.key!==a.state.key?e.children&&e.children[0]&&(e.children=a.editNewData(e.children,t)):e.title=t}),e},a.sureEdit=function(e){var t=a.editNewData(a.state.treeData,e);a.setState({treeData:t,title:e,editStatus:!1},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))})},a.state={treeData:[],selectedKeys:[],key:"",title:"",children:null,addStatus:!1,deleteStatus:!1,editStatus:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return O.a.createElement(i.a,{style:{height:"100%",overflow:"hidden"},bodyStyle:{height:"100%",overflow:"auto",marginBottom:"-56px",paddingBottom:"-56px"},title:"表单自定义",extra:O.a.createElement("span",null,O.a.createElement(r.a,{type:"plus-square",title:"新增节点（列）",style:{fontSize:"18px",color:"#08c",cursor:"pointer",marginRight:"7px"},onClick:this.addNode}),O.a.createElement(r.a,{type:"form",title:"编辑节点（列）名称",style:{fontSize:"18px",color:"#08c",cursor:"pointer",marginRight:"7px"},onClick:this.editNode}),O.a.createElement(r.a,{type:"delete",title:"删除节点（列）",style:{fontSize:"18px",color:"#08c",cursor:"pointer"},onClick:this.deleteNode}))},this.state.treeData&&this.state.treeData[0]?O.a.createElement(y.a,{defaultExpandAll:!0,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys},this.renderTreeNodes(this.state.treeData)):O.a.createElement("p",{style:{textAlign:"center",paddingTop:"50px"}},O.a.createElement("img",{src:E.a,alt:"点击添加节点（列）",style:{width:"auto",cursor:"pointer"},onClick:this.addNode}),","),this.state.addStatus?O.a.createElement(S.default,{hideAddModal:this.hideAddModal,sureAdd:this.sureAdd}):null,this.state.deleteStatus?O.a.createElement(k.default,{hideDeleteWarning:this.hideDeleteWarning,sureDelete:this.sureDelete}):null,this.state.editStatus?O.a.createElement(b.default,{hideEdit:this.hideEdit,sureEdit:this.sureEdit,title:this.state.title}):null)}}]),t}(O.a.Component);t.default=j},591:function(e,t,a){"use strict";a.r(t);a(541);var n=a(211),i=a.n(n),s=(a(542),a(212)),r=a.n(s),l=a(28),c=a(29),o=a(31),d=a(30),u=a(32),h=a(1),f=a.n(h),m=a(589),p=a(590),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={columns:""},a.getColumns=function(e){a.setState({columns:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"common-content",style:{height:"100%"}},f.a.createElement(i.a,{style:{height:"100%"}},f.a.createElement(r.a,{span:"6",style:{height:"100%"}},f.a.createElement(p.default,{getColumns:this.getColumns})),f.a.createElement(r.a,{span:"18",style:{height:"100%"}},f.a.createElement(m.default,{columns:this.state.columns}))))}}]),t}(f.a.Component);t.default=y}}]);
//# sourceMappingURL=4.a719f85e.chunk.js.map