{"version":3,"sources":["pages/DefineTable/AddModal.js","pages/DefineTable/DeleteWarning.js","pages/DefineTable/EditName.js","pages/DefineTable/add.png","pages/DefineTable/DynamicTree.js"],"names":["AddModal","state","name","nameChange","e","_this","setState","target","value","handleOk","props","sureAdd","antd_lib_message__WEBPACK_IMPORTED_MODULE_5___default","a","warn","react__WEBPACK_IMPORTED_MODULE_11___default","createElement","antd_lib_modal__WEBPACK_IMPORTED_MODULE_1___default","title","visible","onOk","this","onCancel","hideAddModal","antd_lib_input__WEBPACK_IMPORTED_MODULE_3___default","placeholder","onChange","React","Component","DeleteWarning","sureDelete","react__WEBPACK_IMPORTED_MODULE_7___default","hideDeleteWarning","EditName","sureEdit","hideEdit","module","exports","__webpack_require__","p","TreeNode","DynamicTree","Object","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__","call","onSelect","selectedKeys","info","_children","node","dataRef","children","_title","_key","key","renderTreeNodes","data","map","item","react__WEBPACK_IMPORTED_MODULE_14___default","addNode","addStatus","deleteNode","deleteStatus","antd_lib_message__WEBPACK_IMPORTED_MODULE_6___default","editNode","editStatus","addNewData","ary","newNode","newTreeNodeName","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__","concat","length","newData","treeData","getColumns","JSON","parse","stringify","deleteNewData","forEach","index","splice","arr","split","join","editNewData","antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default","style","height","overflow","bodyStyle","marginBottom","paddingBottom","extra","antd_lib_icon__WEBPACK_IMPORTED_MODULE_3___default","type","fontSize","color","cursor","marginRight","onClick","antd_lib_tree__WEBPACK_IMPORTED_MODULE_13___default","defaultExpandAll","textAlign","paddingTop","src","AddPic","alt","width","_AddModal__WEBPACK_IMPORTED_MODULE_15__","_DeleteWarning__WEBPACK_IMPORTED_MODULE_16__","_EditName__WEBPACK_IMPORTED_MODULE_17__"],"mappings":"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","file":"static/js/21.e4f6f04a.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Modal, Input, message } from 'antd'\r\n\r\nclass AddModal extends React.Component{\r\n\t\r\n\tstate={\r\n\t\tname: \"\"\r\n\t}\r\n\t\r\n\tnameChange=(e) => {\r\n\t\tthis.setState({\r\n\t\t\tname:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleOk=() => {\r\n\t\tif (this.state.name) {\r\n\t\t\tthis.props.sureAdd(this.state.name)\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请输入正确的节点（列）名称！！！\")\r\n\t\t}\r\n\t}\r\n\t\r\n    render () {\r\n        return (\r\n            <Modal\r\n                title=\"新增节点（列）\"\r\n                visible={true}\r\n                onOk={this.handleOk}\r\n                onCancel={this.props.hideAddModal}\r\n            >\r\n                <Input placeholder=\"请输入节点（列）名称\" onChange={this.nameChange} />\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddModal","import React from 'react'\r\nimport { Modal } from 'antd'\r\n\r\nclass DeleteWarning extends React.Component{\r\n\t\r\n\thandleOk=() => {\r\n\t\tthis.props.sureDelete()\r\n\t}\r\n\t\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"删除提醒\"\r\n\t\t\t\tvisible={true}\r\n\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\tonCancel={this.props.hideDeleteWarning}\r\n\t\t\t>\r\n\t\t\t\t确定删除当前节点(列), 以及当前节点(列)下面的所有子节点(子列)?\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DeleteWarning","import React from 'react'\r\nimport { Modal, Input, message } from 'antd'\r\n\r\nclass EditName extends React.Component{\r\n\t\r\n\tstate={\r\n\t\tname: \"\"\r\n\t}\r\n\t\r\n\tnameChange=(e) => {\r\n\t\tthis.setState({\r\n\t\t\tname:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleOk=() => {\r\n\t\tif (this.state.name) {\r\n\t\t\tthis.props.sureEdit(this.state.name)\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请输入正确的节点（列）名称！！！\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.setState({\r\n\t\t\tname: this.props.title\r\n\t\t})\r\n\t}\r\n\t\r\n    render () {\r\n        return (\r\n            <Modal\r\n                title=\"编辑节点（列）\"\r\n                visible={true}\r\n                onOk={this.handleOk}\r\n                onCancel={this.props.hideEdit}\r\n            >\r\n                <Input value={this.state.name} onChange={this.nameChange} />\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditName","module.exports = __webpack_public_path__ + \"static/media/add.b4bd1cd9.png\";","import React from 'react'\r\nimport { Tree, Card, Icon, message } from 'antd'\r\nimport AddModal from './AddModal'\r\nimport DeleteWarning from './DeleteWarning'\r\nimport EditName from './EditName'\r\nimport AddPic from './add.png'\r\n\r\nconst { TreeNode } = Tree;\r\n\r\nclass DynamicTree extends React.Component{\r\n    constructor (props) {\r\n        super (props);\r\n        this.state={\r\n            treeData: [],\r\n\t\t\tselectedKeys: [],\r\n            key: \"\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tchildren: null,\r\n\t\t\taddStatus: false, // 新增节点（列）的弹出框， \r\n\t\t\tdeleteStatus: false, // 删除节点弹出框\r\n\t\t\teditStatus: false // 编辑节点（列）名称弹出框\r\n        }\r\n    }\r\n    \r\n\t\t// 树形结构选中事件\r\n    onSelect = (selectedKeys, info) => {\r\n\t\tlet _children = info.node.props.dataRef ? info.node.props.dataRef.children : null;\r\n\t\tlet _title = info.node.props.title;\r\n\t\tlet _key = selectedKeys[0];\r\n\t\tthis.setState({ \r\n\t\t\t\tselectedKeys,\r\n\t\t\t\tkey: _key,\r\n\t\t\t\ttitle: _title,\r\n\t\t\t\tchildren: _children,\r\n\t\t});\r\n    }\r\n    \r\n\t\t// 树形结构遍历\r\n    renderTreeNodes = data => data.map((item) => {\r\n        if (item.children) {\r\n          return (\r\n            <TreeNode title={item.title} key={item.key} dataRef={item}>\r\n              {this.renderTreeNodes(item.children)}\r\n            </TreeNode>\r\n          );\r\n        }\r\n        return <TreeNode {...item} />;\r\n    })\r\n\t\t\r\n\t\t// 新增节点（列）， 显示弹出框\r\n    addNode = () => {\r\n\t\tthis.setState({\r\n\t\t\taddStatus: true\r\n\t\t})\r\n    }\r\n\t\t\r\n\t// 删除节点（列）， 显示弹出框\r\n\tdeleteNode = () => {\r\n\t\tif (this.state.selectedKeys && this.state.selectedKeys[0]) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteStatus: true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请点击选择要删除的节点（列）！！！\")\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t// 编辑节点， 显示弹出框\r\n\teditNode = () => {\r\n\t\tif (this.state.selectedKeys && this.state.selectedKeys[0]) {\r\n\t\t\tthis.setState({\r\n\t\t\t\teditStatus: true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请点击选择要编辑的节点（列）！！！\")\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t// 隐藏“新增节点（列）弹出框”\r\n\thideAddModal=()=>{\r\n\t\tthis.setState({\r\n\t\t\taddStatus: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 隐藏“删除节点弹出框”\r\n\thideDeleteWarning= () => {\r\n\t\tthis.setState({\r\n\t\t\tdeleteStatus: false\r\n\t\t})\r\n\t}\r\n\t\t\r\n\t// 隐藏“编辑节点弹出框”\r\n\thideEdit= () => {\r\n\t\tthis.setState({\r\n\t\t\teditStatus: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 更新treeData\r\n\taddNewData = (ary, newNode) => {\r\n\t\tlet newARY = ary.map((item) => {\r\n\t\t\tif (item.key === this.state.key ) {\r\n\t\t\t\titem = newNode\r\n\t\t\t} else {\r\n\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\titem.children = this.addNewData(item.children, newNode)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn item\r\n\t\t})\r\n\t\treturn newARY\r\n\t}\r\n\t\t\r\n\t\t\r\n\t\t// “新增节点（列）弹出框”， 确定按钮的事件\r\n    sureAdd = (newTreeNodeName) => { // newTreeNodeName 为弹出框中输入的名称\r\n\t\t\r\n\t\tif (this.state.key) { // 当前存在选中的节点， 添加子节点\r\n\t\t\r\n\t\t\tlet _children;\r\n\t\t\t\r\n\t\t\tif (this.state.children && this.state.children[0]) { // 已经存在子节点\r\n\t\t\t\t_children = [\r\n\t\t\t\t\t...this.state.children,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: newTreeNodeName,\r\n\t\t\t\t\t\tkey: this.state.key + \"_\" + this.state.children.length\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t} else { // 不存在子节点\r\n\t\t\t\t_children = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: newTreeNodeName,\r\n\t\t\t\t\t\tkey: this.state.key + \"_0\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet newNode = {\r\n\t\t\t\ttitle: this.state.title,\r\n\t\t\t\tkey: this.state.key,\r\n\t\t\t\tchildren: _children\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tlet newData = this.addNewData(this.state.treeData, newNode)\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: newData,\r\n\t\t\t\tchildren:newNode.children\r\n\t\t\t}, ()=> {\r\n\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t})\r\n\t\t\t\r\n\t\t} else { // 无选中节点，直接添加根节点\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: [\r\n\t\t\t\t\t...this.state.treeData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: newTreeNodeName,\r\n\t\t\t\t\t\tkey: \"0_\" + this.state.treeData.length\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}, ()=> {\r\n\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddStatus: false\r\n\t\t})\r\n\t\t\t\r\n    }\r\n\t\t\r\n\t\t// 更新treeData\r\n\t\tdeleteNewData = ary => {\r\n\t\t\t\r\n\t\t\tary.forEach((item, index) => {\r\n\t\t\t\tif (item.key === this.state.key ) {\r\n\t\t\t\t\tary.splice(index,1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\t\titem.children = this.deleteNewData(item.children)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tary.forEach(\r\n\t\t\t\t(item, index) => {\r\n\t\t\t\t\tlet arr = item.key.split(\"-\");\r\n\t\t\t\t\tarr[arr.length - 1] = index;\r\n\t\t\t\t\tary[index].key=arr.join(\"-\");\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\treturn ary\r\n\t\t}\r\n\t\t\r\n\t\t// 确定删除节点\r\n\t\tsureDelete = () => {\r\n\t\t\tlet newData = this.deleteNewData(this.state.treeData);\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: newData,\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tkey: \"\",\r\n\t\t\t\tchildren:null,\r\n\t\t\t\tselectedKeys: [],\r\n\t\t\t\tdeleteStatus: false\r\n\t\t\t}, ()=> {\r\n\t\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t// 更新treeData\r\n\t\teditNewData = (ary, title) => {\r\n\t\t\tary.forEach((item, index) => {\r\n\t\t\t\tif (item.key === this.state.key ) {\r\n\t\t\t\t\titem.title = title\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\t\titem.children = this.editNewData(item.children, title)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn ary\r\n\t\t}\r\n\t\t\r\n\t\t// 编辑确定按钮\r\n\t\tsureEdit = (title) => {\r\n\t\t\tlet newData = this.editNewData(this.state.treeData, title)\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: newData,\r\n\t\t\t\ttitle,\r\n\t\t\t\teditStatus: false\r\n\t\t\t}, ()=> {\r\n\t\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n    render () {\r\n        return (\r\n            <Card \r\n                style={{height: \"100%\", overflow: \"hidden\"}} \r\n                bodyStyle={{height: \"100%\",overflow: \"auto\",marginBottom: \"-56px\",paddingBottom: \"-56px\"}} \r\n                title=\"表单自定义\"\r\n                extra={\r\n                    <span>\r\n                        <Icon \r\n                            type=\"plus-square\" \r\n                            title=\"新增节点（列）\" \r\n                            style={{ fontSize: '18px', color: '#08c', cursor: \"pointer\", marginRight: \"7px\" }} \r\n                            onClick={this.addNode}\r\n                        />\r\n                        <Icon \r\n                            type=\"form\" \r\n                            title=\"编辑节点（列）名称\" \r\n                            style={{ fontSize: '18px', color: '#08c', cursor: \"pointer\", marginRight: \"7px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.editNode}\r\n                        />\r\n                        <Icon \r\n                            type=\"delete\" \r\n                            title=\"删除节点（列）\" \r\n                            style={{ fontSize: '18px', color: '#08c', cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.deleteNode}\r\n                        />\r\n                    </span>\r\n                }\r\n            >\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.treeData && this.state.treeData[0]\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Tree\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultExpandAll={true}\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tselectedKeys={this.state.selectedKeys}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.renderTreeNodes(this.state.treeData)}\r\n\t\t\t\t\t\t\t\t\t</Tree>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<p style={{textAlign: \"center\", paddingTop: \"50px\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<img src={AddPic} alt=\"点击添加节点（列）\" style={{width: \"auto\", cursor: \"pointer\"}} onClick={this.addNode} />,\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.addStatus\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<AddModal hideAddModal={this.hideAddModal} sureAdd={this.sureAdd} />\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.deleteStatus\r\n\t\t\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t\t\t<DeleteWarning hideDeleteWarning={this.hideDeleteWarning} sureDelete = {this.sureDelete} />\r\n\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.editStatus\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<EditName hideEdit={this.hideEdit} sureEdit={this.sureEdit} title={this.state.title} />\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DynamicTree"],"sourceRoot":""}