{"version":3,"sources":["pages/DefineTable/AddModal.js","pages/DefineTable/DeleteWarning.js","pages/DefineTable/EditName.js","pages/DefineTable/guide.png","pages/DefineTable/add.png","pages/DefineTable/DynamicTable.js","pages/DefineTable/DynamicTree.js","pages/DefineTable/index.js"],"names":["AddModal","state","name","nameChange","e","_this","setState","target","value","handleOk","props","sureAdd","antd_lib_message__WEBPACK_IMPORTED_MODULE_5___default","a","warn","react__WEBPACK_IMPORTED_MODULE_11___default","createElement","antd_lib_modal__WEBPACK_IMPORTED_MODULE_1___default","title","visible","onOk","this","onCancel","hideAddModal","antd_lib_input__WEBPACK_IMPORTED_MODULE_3___default","placeholder","onChange","React","Component","DeleteWarning","sureDelete","react__WEBPACK_IMPORTED_MODULE_7___default","hideDeleteWarning","EditName","sureEdit","hideEdit","module","exports","__webpack_require__","p","obj","key","DynamicTable","Object","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__","call","getData","ary","forEach","item","index","children","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__","concat","getColumns","dataIndex","columns","data","width","nextProps","_columns","sessionStorage","setItem","JSON","stringify","arr","keys","_width","length","antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default","style","height","overflow","bodyStyle","marginBottom","paddingBottom","antd_lib_table__WEBPACK_IMPORTED_MODULE_3___default","dataSource","bordered","scroll","x","y","textAlign","paddingTop","src","Guid","alt","TreeNode","DynamicTree","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__","onSelect","selectedKeys","info","_children","node","dataRef","_title","_key","renderTreeNodes","map","react__WEBPACK_IMPORTED_MODULE_14___default","addNode","addStatus","deleteNode","deleteStatus","antd_lib_message__WEBPACK_IMPORTED_MODULE_6___default","editNode","editStatus","addNewData","newNode","newTreeNodeName","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__","newData","treeData","parse","deleteNewData","splice","split","join","editNewData","extra","antd_lib_icon__WEBPACK_IMPORTED_MODULE_3___default","type","fontSize","color","cursor","marginRight","onClick","antd_lib_tree__WEBPACK_IMPORTED_MODULE_13___default","defaultExpandAll","AddPic","_AddModal__WEBPACK_IMPORTED_MODULE_15__","_DeleteWarning__WEBPACK_IMPORTED_MODULE_16__","_EditName__WEBPACK_IMPORTED_MODULE_17__","DefineTable","react__WEBPACK_IMPORTED_MODULE_9___default","className","antd_lib_row__WEBPACK_IMPORTED_MODULE_1___default","antd_lib_col__WEBPACK_IMPORTED_MODULE_3___default","span","_DynamicTree__WEBPACK_IMPORTED_MODULE_11__","_DynamicTable__WEBPACK_IMPORTED_MODULE_10__"],"mappings":"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","file":"static/js/4.a719f85e.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Modal, Input, message } from 'antd'\r\n\r\nclass AddModal extends React.Component{\r\n\t\r\n\tstate={\r\n\t\tname: \"\"\r\n\t}\r\n\t\r\n\tnameChange=(e) => {\r\n\t\tthis.setState({\r\n\t\t\tname:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleOk=() => {\r\n\t\tif (this.state.name) {\r\n\t\t\tthis.props.sureAdd(this.state.name)\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请输入正确的节点（列）名称！！！\")\r\n\t\t}\r\n\t}\r\n\t\r\n    render () {\r\n        return (\r\n            <Modal\r\n                title=\"新增节点（列）\"\r\n                visible={true}\r\n                onOk={this.handleOk}\r\n                onCancel={this.props.hideAddModal}\r\n            >\r\n                <Input placeholder=\"请输入节点（列）名称\" onChange={this.nameChange} />\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddModal","import React from 'react'\r\nimport { Modal } from 'antd'\r\n\r\nclass DeleteWarning extends React.Component{\r\n\t\r\n\thandleOk=() => {\r\n\t\tthis.props.sureDelete()\r\n\t}\r\n\t\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"删除提醒\"\r\n\t\t\t\tvisible={true}\r\n\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\tonCancel={this.props.hideDeleteWarning}\r\n\t\t\t>\r\n\t\t\t\t确定删除当前节点(列), 以及当前节点(列)下面的所有子节点(子列)?\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DeleteWarning","import React from 'react'\r\nimport { Modal, Input, message } from 'antd'\r\n\r\nclass EditName extends React.Component{\r\n\t\r\n\tstate={\r\n\t\tname: \"\"\r\n\t}\r\n\t\r\n\tnameChange=(e) => {\r\n\t\tthis.setState({\r\n\t\t\tname:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleOk=() => {\r\n\t\tif (this.state.name) {\r\n\t\t\tthis.props.sureEdit(this.state.name)\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请输入正确的节点（列）名称！！！\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.setState({\r\n\t\t\tname: this.props.title\r\n\t\t})\r\n\t}\r\n\t\r\n    render () {\r\n        return (\r\n            <Modal\r\n                title=\"编辑节点（列）\"\r\n                visible={true}\r\n                onOk={this.handleOk}\r\n                onCancel={this.props.hideEdit}\r\n            >\r\n                <Input value={this.state.name} onChange={this.nameChange} />\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditName","module.exports = __webpack_public_path__ + \"static/media/guide.16192bc0.png\";","module.exports = __webpack_public_path__ + \"static/media/add.b4bd1cd9.png\";","import React from 'react'\r\nimport { Table, Card } from \"antd\"\r\nimport Guid from './guide.png'\r\n\r\nlet obj={\r\n\tkey: \"0\"\r\n};\r\n\r\nclass DynamicTable extends React.Component{\r\n    constructor (props) {\r\n        super (props);\r\n        this.state={\r\n            columns:[\r\n//                 {\r\n//                     title: '采集人',\r\n//                     dataIndex: 'A',\r\n//                     width: 80,\r\n//                     fixed: 'left'\r\n//                 }\r\n            ],\r\n            data: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tkey: \"0\",\r\n// \t\t\t\t\tA: \"123\"\r\n// \t\t\t\t}\r\n\t\t\t],\r\n\t\t\twidth: \"100%\"\r\n        }\r\n    }\r\n\t\r\n\tgetData = (ary) => {\r\n\t\tary.forEach(\r\n\t\t\t(item, index) => {\r\n\t\t\t\tif (item.children && item.children[0]) { // 有子集， 代表有跨列，不取索引值\r\n\t\t\t\t\tthis.getData(item.children)\r\n\t\t\t\t} else{\r\n\t\t\t\t\tobj={\r\n\t\t\t\t\t\t...obj,\r\n\t\t\t\t\t\t[`columns_${item.key}`]: \"-\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\tgetColumns = (ary) => {\r\n\t\tary.forEach(\r\n\t\t\t(item, index) => {\r\n\t\t\t\titem.dataIndex = \"columns_\" + item.key;\r\n\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\titem.children = this.getColumns(item.children)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\treturn ary\r\n\t}\r\n\t\r\n\tcomponentWillReceiveProps (nextProps) {\r\n\t\tobj={\r\n\t\t\tkey: \"0\"\r\n\t\t};\r\n\t\tif (nextProps.columns && nextProps.columns[0]) {\r\n\t\t\t\r\n\t\t\tlet _columns = this.getColumns(nextProps.columns);\r\n\t\t\tsessionStorage.setItem(\"colums\", JSON.stringify(_columns))\r\n\t\t\t\r\n\t\t\tthis.getData(nextProps.columns)\r\n\t\t\tlet arr = Object.keys(obj); \r\n\t\t\tlet _width = \"100%\"; // 根据列的个数调整table的宽度\r\n\t\t\tif (arr.length >= 6) {\r\n\t\t\t\t_width = ((arr.length -1) / 5 - 1 ) * 50 + 100 + \"%\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolumns: _columns,\r\n\t\t\t\tdata: [obj],\r\n\t\t\t\twidth: _width\r\n\t\t\t})\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsessionStorage.setItem(\"colums\", null)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tdata: [],\r\n\t\t\t\twidth: \"100%\"\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n    render () {\r\n        return (\r\n            <Card style={{height: \"100%\", overflow: \"hidden\"}} bodyStyle={{height: \"100%\",overflow: \"auto\",marginBottom: \"-56px\",paddingBottom: \"-56px\"}} title=\"预览\">\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.columns && this.state.columns[0]\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\t\t\tdataSource={this.state.data}\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\tscroll={{ x: this.state.width, y: 600 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<p style={{textAlign: \"center\",paddingTop: \"50px\"}}>\r\n\t\t\t\t\t\t<img src={Guid} alt=\"\" />\r\n\t\t\t\t\t</p>\r\n\t\t\t\t}\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DynamicTable","import React from 'react'\r\nimport { Tree, Card, Icon, message } from 'antd'\r\nimport AddModal from './AddModal'\r\nimport DeleteWarning from './DeleteWarning'\r\nimport EditName from './EditName'\r\nimport AddPic from './add.png'\r\n\r\nconst { TreeNode } = Tree;\r\n\r\nclass DynamicTree extends React.Component{\r\n    constructor (props) {\r\n        super (props);\r\n        this.state={\r\n            treeData: [],\r\n\t\t\tselectedKeys: [],\r\n            key: \"\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tchildren: null,\r\n\t\t\taddStatus: false, // 新增节点（列）的弹出框， \r\n\t\t\tdeleteStatus: false, // 删除节点弹出框\r\n\t\t\teditStatus: false // 编辑节点（列）名称弹出框\r\n        }\r\n    }\r\n    \r\n\t\t// 树形结构选中事件\r\n    onSelect = (selectedKeys, info) => {\r\n\t\tlet _children = info.node.props.dataRef ? info.node.props.dataRef.children : null;\r\n\t\tlet _title = info.node.props.title;\r\n\t\tlet _key = selectedKeys[0];\r\n\t\tthis.setState({ \r\n\t\t\t\tselectedKeys,\r\n\t\t\t\tkey: _key,\r\n\t\t\t\ttitle: _title,\r\n\t\t\t\tchildren: _children,\r\n\t\t});\r\n    }\r\n    \r\n\t\t// 树形结构遍历\r\n    renderTreeNodes = data => data.map((item) => {\r\n        if (item.children) {\r\n          return (\r\n            <TreeNode title={item.title} key={item.key} dataRef={item}>\r\n              {this.renderTreeNodes(item.children)}\r\n            </TreeNode>\r\n          );\r\n        }\r\n        return <TreeNode {...item} />;\r\n    })\r\n\t\t\r\n\t\t// 新增节点（列）， 显示弹出框\r\n    addNode = () => {\r\n\t\tthis.setState({\r\n\t\t\taddStatus: true\r\n\t\t})\r\n    }\r\n\t\t\r\n\t// 删除节点（列）， 显示弹出框\r\n\tdeleteNode = () => {\r\n\t\tif (this.state.selectedKeys && this.state.selectedKeys[0]) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteStatus: true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请点击选择要删除的节点（列）！！！\")\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t// 编辑节点， 显示弹出框\r\n\teditNode = () => {\r\n\t\tif (this.state.selectedKeys && this.state.selectedKeys[0]) {\r\n\t\t\tthis.setState({\r\n\t\t\t\teditStatus: true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tmessage.warn(\"请点击选择要编辑的节点（列）！！！\")\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t// 隐藏“新增节点（列）弹出框”\r\n\thideAddModal=()=>{\r\n\t\tthis.setState({\r\n\t\t\taddStatus: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 隐藏“删除节点弹出框”\r\n\thideDeleteWarning= () => {\r\n\t\tthis.setState({\r\n\t\t\tdeleteStatus: false\r\n\t\t})\r\n\t}\r\n\t\t\r\n\t// 隐藏“编辑节点弹出框”\r\n\thideEdit= () => {\r\n\t\tthis.setState({\r\n\t\t\teditStatus: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 更新treeData\r\n\taddNewData = (ary, newNode) => {\r\n\t\tlet newARY = ary.map((item) => {\r\n\t\t\tif (item.key === this.state.key ) {\r\n\t\t\t\titem = newNode\r\n\t\t\t} else {\r\n\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\titem.children = this.addNewData(item.children, newNode)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn item\r\n\t\t})\r\n\t\treturn newARY\r\n\t}\r\n\t\t\r\n\t\t\r\n\t\t// “新增节点（列）弹出框”， 确定按钮的事件\r\n    sureAdd = (newTreeNodeName) => { // newTreeNodeName 为弹出框中输入的名称\r\n\t\t\r\n\t\tif (this.state.key) { // 当前存在选中的节点， 添加子节点\r\n\t\t\r\n\t\t\tlet _children;\r\n\t\t\t\r\n\t\t\tif (this.state.children && this.state.children[0]) { // 已经存在子节点\r\n\t\t\t\t_children = [\r\n\t\t\t\t\t...this.state.children,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: newTreeNodeName,\r\n\t\t\t\t\t\tkey: this.state.key + \"_\" + this.state.children.length\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t} else { // 不存在子节点\r\n\t\t\t\t_children = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: newTreeNodeName,\r\n\t\t\t\t\t\tkey: this.state.key + \"_0\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet newNode = {\r\n\t\t\t\ttitle: this.state.title,\r\n\t\t\t\tkey: this.state.key,\r\n\t\t\t\tchildren: _children\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tlet newData = this.addNewData(this.state.treeData, newNode)\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: newData,\r\n\t\t\t\tchildren:newNode.children\r\n\t\t\t}, ()=> {\r\n\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t})\r\n\t\t\t\r\n\t\t} else { // 无选中节点，直接添加根节点\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: [\r\n\t\t\t\t\t...this.state.treeData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: newTreeNodeName,\r\n\t\t\t\t\t\tkey: \"0_\" + this.state.treeData.length\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}, ()=> {\r\n\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddStatus: false\r\n\t\t})\r\n\t\t\t\r\n    }\r\n\t\t\r\n\t\t// 更新treeData\r\n\t\tdeleteNewData = ary => {\r\n\t\t\t\r\n\t\t\tary.forEach((item, index) => {\r\n\t\t\t\tif (item.key === this.state.key ) {\r\n\t\t\t\t\tary.splice(index,1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\t\titem.children = this.deleteNewData(item.children)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tary.forEach(\r\n\t\t\t\t(item, index) => {\r\n\t\t\t\t\tlet arr = item.key.split(\"-\");\r\n\t\t\t\t\tarr[arr.length - 1] = index;\r\n\t\t\t\t\tary[index].key=arr.join(\"-\");\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\treturn ary\r\n\t\t}\r\n\t\t\r\n\t\t// 确定删除节点\r\n\t\tsureDelete = () => {\r\n\t\t\tlet newData = this.deleteNewData(this.state.treeData);\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: newData,\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tkey: \"\",\r\n\t\t\t\tchildren:null,\r\n\t\t\t\tselectedKeys: [],\r\n\t\t\t\tdeleteStatus: false\r\n\t\t\t}, ()=> {\r\n\t\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t// 更新treeData\r\n\t\teditNewData = (ary, title) => {\r\n\t\t\tary.forEach((item, index) => {\r\n\t\t\t\tif (item.key === this.state.key ) {\r\n\t\t\t\t\titem.title = title\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\t\titem.children = this.editNewData(item.children, title)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn ary\r\n\t\t}\r\n\t\t\r\n\t\t// 编辑确定按钮\r\n\t\tsureEdit = (title) => {\r\n\t\t\tlet newData = this.editNewData(this.state.treeData, title)\r\n\t\t\tthis.setState({\r\n\t\t\t\ttreeData: newData,\r\n\t\t\t\ttitle,\r\n\t\t\t\teditStatus: false\r\n\t\t\t}, ()=> {\r\n\t\t\t\t\tthis.props.getColumns(JSON.parse(JSON.stringify(this.state.treeData)))\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n    render () {\r\n        return (\r\n            <Card \r\n                style={{height: \"100%\", overflow: \"hidden\"}} \r\n                bodyStyle={{height: \"100%\",overflow: \"auto\",marginBottom: \"-56px\",paddingBottom: \"-56px\"}} \r\n                title=\"表单自定义\"\r\n                extra={\r\n                    <span>\r\n                        <Icon \r\n                            type=\"plus-square\" \r\n                            title=\"新增节点（列）\" \r\n                            style={{ fontSize: '18px', color: '#08c', cursor: \"pointer\", marginRight: \"7px\" }} \r\n                            onClick={this.addNode}\r\n                        />\r\n                        <Icon \r\n                            type=\"form\" \r\n                            title=\"编辑节点（列）名称\" \r\n                            style={{ fontSize: '18px', color: '#08c', cursor: \"pointer\", marginRight: \"7px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.editNode}\r\n                        />\r\n                        <Icon \r\n                            type=\"delete\" \r\n                            title=\"删除节点（列）\" \r\n                            style={{ fontSize: '18px', color: '#08c', cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.deleteNode}\r\n                        />\r\n                    </span>\r\n                }\r\n            >\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.treeData && this.state.treeData[0]\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Tree\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultExpandAll={true}\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tselectedKeys={this.state.selectedKeys}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.renderTreeNodes(this.state.treeData)}\r\n\t\t\t\t\t\t\t\t\t</Tree>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<p style={{textAlign: \"center\", paddingTop: \"50px\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<img src={AddPic} alt=\"点击添加节点（列）\" style={{width: \"auto\", cursor: \"pointer\"}} onClick={this.addNode} />,\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.addStatus\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<AddModal hideAddModal={this.hideAddModal} sureAdd={this.sureAdd} />\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.deleteStatus\r\n\t\t\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t\t\t<DeleteWarning hideDeleteWarning={this.hideDeleteWarning} sureDelete = {this.sureDelete} />\r\n\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.editStatus\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<EditName hideEdit={this.hideEdit} sureEdit={this.sureEdit} title={this.state.title} />\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DynamicTree","import React from 'react'\r\nimport { Row, Col } from 'antd'\r\nimport DynamicTable from './DynamicTable'\r\nimport DynamicTree from './DynamicTree'\r\n\r\nclass DefineTable extends React.Component{\r\n    \r\n\tstate = {\r\n\t\tcolumns: \"\"\r\n\t}\r\n\t\r\n\tgetColumns = ary => {\r\n\t\tthis.setState({\r\n\t\t\tcolumns: ary\r\n\t\t})\r\n\t}\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"common-content\" style={{height: \"100%\"}}>\r\n                    <Row  style={{height: \"100%\"}}>\r\n                        <Col span=\"6\"  style={{height: \"100%\"}}>\r\n                                \r\n                                <DynamicTree getColumns={this.getColumns} />\r\n\r\n                        </Col>\r\n                        <Col span=\"18\" style={{height: \"100%\"}}>\r\n\r\n                                <DynamicTable columns={this.state.columns} />\r\n                            \r\n                        </Col>\r\n                    </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DefineTable"],"sourceRoot":""}