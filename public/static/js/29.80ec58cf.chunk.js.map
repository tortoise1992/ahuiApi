{"version":3,"sources":["common/components/NoData/NoDataComponent.js","common/components/NoData/NoData.png","common/components/Bmap/HotMap.js","pages/map/baiduMaps/Hot.js"],"names":["NoDataComponent","react__WEBPACK_IMPORTED_MODULE_11___default","a","createElement","antd_lib_row__WEBPACK_IMPORTED_MODULE_1___default","className","style","height","this","props","data","antd_lib_col__WEBPACK_IMPORTED_MODULE_5___default","span","src","noDataImg","alt","antd_lib_spin__WEBPACK_IMPORTED_MODULE_3___default","size","Component","module","exports","BMap","window","BMapLib","HotMap","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","initMap","map","Map","state","mapId","makeMap","point","Point","lng","lat","centerAndZoom","enableScrollWheelZoom","average","heatmapOverlay","HeatmapOverlay","radius","gradient","0.1","0.2","0.3","0.4","0.5","addOverlay","total","forEach","item","count","Math","ceil","length","setDataSet","max","show","Date","getTime","nextProps","_this2","isObjectValueEqual","setTimeout","nextState","_this3","_react_16_6_3_react_default","id","width","backgroundColor","React","Trail","getData","newData","longitude","latitude","amount","push","setState","Fragment","marginBottom","button_default","onClick","Bmap_HotMap","setCurrentCity"],"mappings":"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","file":"static/js/29.80ec58cf.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Row, Col, Spin} from 'antd';\r\n\r\nimport noDataImg from './NoData.png';\r\nimport './noData.less';\r\n\r\n/**\r\n * data  无值时显示加载动画，设置为'nodata'时显示暂无数据\r\n * height  设置组件高度, 默认height为100%\r\n */\r\nclass NoDataComponent extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Row className={\"no-data-con\"} style={{height: this.props.height ? this.props.height : '100%'}}>\r\n                {this.props.data === 'nodata' ? <Col span={24} className={\"no-data\"}><img src={noDataImg} alt=\"nodata\"/></Col> :\r\n                    <Spin size=\"large\"/>}\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NoDataComponent;\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAAA0CAYAAABhPmF9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZERDJBNjVBNUU1NTExRTg5MkJCOTMzRjQwM0I5RjQ0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZERDJBNjVCNUU1NTExRTg5MkJCOTMzRjQwM0I5RjQ0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkREMkE2NTg1RTU1MTFFODkyQkI5MzNGNDAzQjlGNDQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkREMkE2NTk1RTU1MTFFODkyQkI5MzNGNDAzQjlGNDQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5v1DDkAAAMrUlEQVR42uxd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\"","import React from 'react';\r\nimport NoData from '../NoData/NoDataComponent'; //暂无数据组件\r\nimport { isObjectValueEqual } from '../../../utils'\r\n\r\n/**\r\n * 可接收数据\r\n * data  数据格式[{\"lng\":'12222',\"lat\":'2211',\"count\":'2212'},{\"lng\":'12222',\"lat\":'2211',\"count\":'2212'}]\r\n *          lng: 经度，lat: 纬度， count: 数量\r\n * height: 地图高度， 非必传  默认400\r\n * initMap  百度地图初始化组件 数据格式： function\r\n */\r\n\r\nlet BMap = window.BMap; //  全局获取BMap\r\nlet BMapLib = window.BMapLib; // 全局获取BMapLib\r\n\r\nclass HotMap extends React.Component {\r\n\t\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tconst mapId = 'map' + new Date().getTime();\r\n\t\tthis.state={\r\n\t\t\tmapId\r\n\t\t}\r\n\t}\r\n\t\r\n\tinitMap = () => {\r\n        //无BMap时，比如无网络情况下\r\n        if(!BMap){\r\n            return;\r\n        }\r\n        if(typeof this.props.initMap === 'function'){\r\n            let map = new BMap.Map(this.state.mapId);\r\n            this.props.initMap(map);\r\n        }\r\n    }\r\n\tmakeMap = (data) => {\r\n\t\t//无BMap时，比如无网络情况下\r\n        if(!BMap){\r\n            return;\r\n        }\r\n\t\tlet map = new BMap.Map(this.state.mapId);\r\n\t    let point = new BMap.Point(data[0].lng, data[0].lat);\r\n\t    map.centerAndZoom(point, 17);\r\n\t    map.enableScrollWheelZoom();\r\n\t\tlet heatmapOverlay = new BMapLib.HeatmapOverlay({\r\n            \"radius\":30,\r\n            \"gradient\":{\r\n                .1:'rgb(136, 141, 249)',\r\n                .2:'rgb(115, 233, 250)',\r\n                  .3:'rgb(94, 245, 67)',\r\n                  .4:'rgb(255, 249, 11)',\r\n                  .5:'rgb(255, 10, 0)'\r\n            }\r\n        });\r\n        map.addOverlay(heatmapOverlay);\r\n        \r\n        let average;\r\n\t\tlet total = 0;\r\n\t\tdata.forEach(\r\n\t\t\t(item) => {\r\n\t\t\t\ttotal = total + (item.count - 0)\r\n\t\t\t}\r\n\t\t);\r\n        average = Math.ceil(total / data.length);\r\n        \r\n\t\theatmapOverlay.setDataSet({data:data,max:average});\r\n\t\theatmapOverlay.show();\r\n\t}\r\n\t\r\n\tcomponentWillReceiveProps(nextProps) {\r\n        if (nextProps.data && !isObjectValueEqual(nextProps.data,this.props.data)) {\r\n            setTimeout(() => {\r\n                // 根据停留点，计算移动点，最终生成所有点的百度坐标， 开始路书配置...\r\n                this.makeMap(nextProps.data)\r\n            },50)\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (isObjectValueEqual(nextProps.data,this.props.data)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\t\r\n\tcomponentDidMount(){\r\n        setTimeout(() => {\r\n            // 显示初始化地图方法\r\n            this.initMap()\r\n        },50)\r\n    }\r\n\t\r\n\trender () {\r\n\t\tif (!BMap) {\r\n\t\t\treturn (\r\n                <div style={{ backgroundColor: '#fff' }}><NoData data={'nodata'} height={this.props.height || 400}/></div>\r\n            )\r\n\t\t} else{\r\n\t\t\treturn (\r\n\t\t\t\t<div id={this.state.mapId} style={{width: \"100%\", height: this.props.height || 400}}></div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default HotMap;","import React, { Component } from 'react';\r\nimport HotMap from '../../../common/components/Bmap/HotMap';\r\nimport { Button } from 'antd';\r\n\r\nclass Trail extends Component {\r\n    state = {\r\n        data: [],\r\n    }\r\n    getData = () => {\r\n        const data = [\r\n            {\"longitude\":118.721777,\"latitude\":32.209229,\"amount\":236},\r\n            {\"longitude\":118.72369,\"latitude\":32.210791,\"amount\":16},\r\n            {\"longitude\":118.722662,\"latitude\":32.210581,\"amount\":16},\r\n            {\"longitude\":118.721642,\"latitude\":32.209538,\"amount\":660}\r\n        ]\r\n        let newData = [];\r\n        data.forEach(\r\n            (item) => {\r\n                newData.push({\r\n                    \"lng\":item.longitude,\r\n                    \"lat\":item.latitude,\r\n                    \"count\": item.amount\r\n                })\r\n            }\r\n        );\r\n        this.setState({data: newData});\r\n    }\r\n    render() {\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div style={{marginBottom:20}}>\r\n                    <Button onClick={this.getData}>获取数据</Button>\r\n                </div>\r\n                <HotMap data={this.state.data} initMap={(map)=>{\r\n                    map.enableScrollWheelZoom(true);\r\n                    map.centerAndZoom(new window.BMap.Point(118.888506, 31.928563),18);\r\n                    map.setCurrentCity(\"南京\");\r\n                }}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Trail;"],"sourceRoot":""}