(window.webpackJsonp=window.webpackJsonp||[]).push([[21,18,19,22,35],{576:function(e,t,a){"use strict";a.r(t);a(549);var n=a(550),i=a.n(n),r=(a(134),a(551)),s=a.n(r),l=(a(546),a(547)),d=a.n(l),c=a(28),o=a(29),u=a(31),h=a(30),p=a(32),f=a(1),y=a.n(f),m=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={name:""},a.nameChange=function(e){a.setState({name:e.target.value})},a.handleOk=function(){a.state.name?a.props.sureAdd(a.state.name):d.a.warn("请输入正确的节点（列）名称！！！")},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return y.a.createElement(i.a,{title:"新增节点（列）",visible:!0,onOk:this.handleOk,onCancel:this.props.hideAddModal},y.a.createElement(s.a,{placeholder:"请输入节点（列）名称",onChange:this.nameChange}))}}]),t}(y.a.Component);t.default=m},577:function(e,t,a){"use strict";a.r(t);a(549);var n=a(550),i=a.n(n),r=a(28),s=a(29),l=a(31),d=a(30),c=a(32),o=a(1),u=a.n(o),h=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleOk=function(){a.props.sureDelete()},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return u.a.createElement(i.a,{title:"删除提醒",visible:!0,onOk:this.handleOk,onCancel:this.props.hideDeleteWarning},"确定删除当前节点(列), 以及当前节点(列)下面的所有子节点(子列)?")}}]),t}(u.a.Component);t.default=h},578:function(e,t,a){"use strict";a.r(t);a(549);var n=a(550),i=a.n(n),r=(a(134),a(551)),s=a.n(r),l=(a(546),a(547)),d=a.n(l),c=a(28),o=a(29),u=a(31),h=a(30),p=a(32),f=a(1),y=a.n(f),m=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={name:""},a.nameChange=function(e){a.setState({name:e.target.value})},a.handleOk=function(){a.state.name?a.props.sureEdit(a.state.name):d.a.warn("请输入正确的节点（列）名称！！！")},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({name:this.props.title})}},{key:"render",value:function(){return y.a.createElement(i.a,{title:"编辑节点（列）",visible:!0,onOk:this.handleOk,onCancel:this.props.hideEdit},y.a.createElement(s.a,{value:this.state.name,onChange:this.nameChange}))}}]),t}(y.a.Component);t.default=m},584:function(e,t,a){e.exports=a.p+"static/media/add.b4bd1cd9.png"},590:function(e,t,a){"use strict";a.r(t);a(539);var n=a(540),i=a.n(n),r=(a(552),a(19)),s=a.n(r),l=a(561),d=(a(546),a(547)),c=a.n(d),o=a(28),u=a(29),h=a(31),p=a(30),f=a(32),y=(a(555),a(556)),m=a.n(y),S=a(1),k=a.n(S),O=a(576),g=a(577),D=a(578),b=a(584),v=a.n(b),E=m.a.TreeNode,N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onSelect=function(e,t){var n=t.node.props.dataRef?t.node.props.dataRef.children:null,i=t.node.props.title,r=e[0];a.setState({selectedKeys:e,key:r,title:i,children:n})},a.renderTreeNodes=function(e){return e.map(function(e){return e.children?k.a.createElement(E,{title:e.title,key:e.key,dataRef:e},a.renderTreeNodes(e.children)):k.a.createElement(E,e)})},a.addNode=function(){a.setState({addStatus:!0})},a.deleteNode=function(){a.state.selectedKeys&&a.state.selectedKeys[0]?a.setState({deleteStatus:!0}):c.a.warn("请点击选择要删除的节点（列）！！！")},a.editNode=function(){a.state.selectedKeys&&a.state.selectedKeys[0]?a.setState({editStatus:!0}):c.a.warn("请点击选择要编辑的节点（列）！！！")},a.hideAddModal=function(){a.setState({addStatus:!1})},a.hideDeleteWarning=function(){a.setState({deleteStatus:!1})},a.hideEdit=function(){a.setState({editStatus:!1})},a.addNewData=function(e,t){return e.map(function(e){return e.key===a.state.key?e=t:e.children&&e.children[0]&&(e.children=a.addNewData(e.children,t)),e})},a.sureAdd=function(e){if(a.state.key){var t;t=a.state.children&&a.state.children[0]?Object(l.a)(a.state.children).concat([{title:e,key:a.state.key+"_"+a.state.children.length}]):[{title:e,key:a.state.key+"_0"}];var n={title:a.state.title,key:a.state.key,children:t},i=a.addNewData(a.state.treeData,n);a.setState({treeData:i,children:n.children},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))})}else a.setState({treeData:Object(l.a)(a.state.treeData).concat([{title:e,key:"0_"+a.state.treeData.length}])},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))});a.setState({addStatus:!1})},a.deleteNewData=function(e){return e.forEach(function(t,n){t.key===a.state.key?e.splice(n,1):t.children&&t.children[0]&&(t.children=a.deleteNewData(t.children))}),e.forEach(function(t,a){var n=t.key.split("-");n[n.length-1]=a,e[a].key=n.join("-")}),e},a.sureDelete=function(){var e=a.deleteNewData(a.state.treeData);a.setState({treeData:e,title:"",key:"",children:null,selectedKeys:[],deleteStatus:!1},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))})},a.editNewData=function(e,t){return e.forEach(function(e,n){e.key!==a.state.key?e.children&&e.children[0]&&(e.children=a.editNewData(e.children,t)):e.title=t}),e},a.sureEdit=function(e){var t=a.editNewData(a.state.treeData,e);a.setState({treeData:t,title:e,editStatus:!1},function(){a.props.getColumns(JSON.parse(JSON.stringify(a.state.treeData)))})},a.state={treeData:[],selectedKeys:[],key:"",title:"",children:null,addStatus:!1,deleteStatus:!1,editStatus:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return k.a.createElement(i.a,{style:{height:"100%",overflow:"hidden"},bodyStyle:{height:"100%",overflow:"auto",marginBottom:"-56px",paddingBottom:"-56px"},title:"表单自定义",extra:k.a.createElement("span",null,k.a.createElement(s.a,{type:"plus-square",title:"新增节点（列）",style:{fontSize:"18px",color:"#08c",cursor:"pointer",marginRight:"7px"},onClick:this.addNode}),k.a.createElement(s.a,{type:"form",title:"编辑节点（列）名称",style:{fontSize:"18px",color:"#08c",cursor:"pointer",marginRight:"7px"},onClick:this.editNode}),k.a.createElement(s.a,{type:"delete",title:"删除节点（列）",style:{fontSize:"18px",color:"#08c",cursor:"pointer"},onClick:this.deleteNode}))},this.state.treeData&&this.state.treeData[0]?k.a.createElement(m.a,{defaultExpandAll:!0,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys},this.renderTreeNodes(this.state.treeData)):k.a.createElement("p",{style:{textAlign:"center",paddingTop:"50px"}},k.a.createElement("img",{src:v.a,alt:"点击添加节点（列）",style:{width:"auto",cursor:"pointer"},onClick:this.addNode}),","),this.state.addStatus?k.a.createElement(O.default,{hideAddModal:this.hideAddModal,sureAdd:this.sureAdd}):null,this.state.deleteStatus?k.a.createElement(g.default,{hideDeleteWarning:this.hideDeleteWarning,sureDelete:this.sureDelete}):null,this.state.editStatus?k.a.createElement(D.default,{hideEdit:this.hideEdit,sureEdit:this.sureEdit,title:this.state.title}):null)}}]),t}(k.a.Component);t.default=N}}]);
//# sourceMappingURL=21.e4f6f04a.chunk.js.map