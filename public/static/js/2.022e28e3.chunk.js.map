{"version":3,"sources":["common/components/NoData/NoDataComponent.js","common/components/NoData/NoData.png","common/components/Bmap/PathMap.js","pages/map/baiduMaps/Trail.js","common/components/Bmap/img/red.png","common/components/Bmap/img/stop.png","common/components/Bmap/img/start.png","common/components/Bmap/img/end.png"],"names":["NoDataComponent","react__WEBPACK_IMPORTED_MODULE_11___default","a","createElement","antd_lib_row__WEBPACK_IMPORTED_MODULE_1___default","className","style","height","this","props","data","antd_lib_col__WEBPACK_IMPORTED_MODULE_5___default","span","src","noDataImg","alt","antd_lib_spin__WEBPACK_IMPORTED_MODULE_3___default","size","Component","module","exports","BMap","window","BMapLib","PathMap","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","initMap","map","Map","state","mapId","makeMapData","record","enableScrollWheelZoom","centerAndZoom","ary","forEach","item","index","length","walking","WalkingRoute","renderOptions","autoViewport","search","Point","lng","lat","setSearchCompleteCallback","pts","getResults","getPlan","getRoute","getPath","ptsObj","stay","address","unit","push","setTimeout","allPoints","aryitem","concat","start","setState","allpoints","arrPoisData","lushu","arrPois","addOverlay","Polyline","strokeColor","strokeWeight","strokeOpacity","setViewport","landmarkPoisData","html","name","pauseTime","startMarker","Marker","icon","Icon","Start","Size","anchor","endMarker","End","stopMarker","StopMark","infoWindow","InfoWindow","width","overflow","title","enableMessage","message","addEventListener","openInfoWindow","LuShu","prototype","_move","initPos","targetPos","effect","pointsArr","me","currentCount","step","_opts","speed","init_pos","_projection","lngLatToPoint","target_pos","count","Math","round","_getDistance","_map","_moveNext","i","_intervalFlag","setInterval","clearInterval","_path","x","y","pos","pointToLngLat","Pixel","proPos","enableRotation","setRotation","autoView","getBounds","containsPoint","setCenter","_marker","setPosition","_setInfoWin","defaultContent","Red","landmarkPois","Date","getTime","_this2","nextProps","_this3","isObjectValueEqual","nextState","_react_16_6_3_react_default","id","backgroundColor","React","Trail","getData","newData","studentNo","startTime","endTime","stayTime","longitude","latitude","Fragment","marginBottom","button_default","onClick","Bmap_PathMap","setCurrentCity"],"mappings":"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","file":"static/js/2.022e28e3.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Row, Col, Spin} from 'antd';\r\n\r\nimport noDataImg from './NoData.png';\r\nimport './noData.less';\r\n\r\n/**\r\n * data  无值时显示加载动画，设置为'nodata'时显示暂无数据\r\n * height  设置组件高度, 默认height为100%\r\n */\r\nclass NoDataComponent extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Row className={\"no-data-con\"} style={{height: this.props.height ? this.props.height : '100%'}}>\r\n                {this.props.data === 'nodata' ? <Col span={24} className={\"no-data\"}><img src={noDataImg} alt=\"nodata\"/></Col> :\r\n                    <Spin size=\"large\"/>}\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NoDataComponent;\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAAA0CAYAAABhPmF9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZERDJBNjVBNUU1NTExRTg5MkJCOTMzRjQwM0I5RjQ0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZERDJBNjVCNUU1NTExRTg5MkJCOTMzRjQwM0I5RjQ0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkREMkE2NTg1RTU1MTFFODkyQkI5MzNGNDAzQjlGNDQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkREMkE2NTk1RTU1MTFFODkyQkI5MzNGNDAzQjlGNDQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5v1DDkAAAMrUlEQVR42uxd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\"","import React from 'react';\r\nimport Red from './img/red.png'; // 移动中的红色箭头\r\nimport StopMark from './img/stop.png'; // 停留点图标\r\nimport Start from './img/start.png'; // 起始点图标\r\nimport End from './img/end.png'; // 终点图标\r\nimport NoData from '../NoData/NoDataComponent'; //暂无数据组件\r\nimport { isObjectValueEqual } from '../../../utils'\r\n\r\n// 在index.html中引入百度地图以及路书\r\n// <script src=\"http://api.map.baidu.com/api?v=2.0&ak=moMIflSL2yGiq3VwQ3bynEKE7gl2cjQw\"></script>\r\n// <script type=\"text/javascript\" src=\"http://api.map.baidu.com/library/LuShu/1.2/src/LuShu_min.js\"></script>\r\n// 没有import引入， 通过window全局拿取BMap，BMapLib;\r\nconst BMap = window.BMap;\r\nconst BMapLib = window.BMapLib;\r\n/**\r\n * 可接收数据 \r\n * data  数据格式[{\"lng\":118.88795,\"lat\":31.935234 ,\"stay\":'4',\"address\":\"南京工程大学食堂\"}]\r\n *          lng: 经度，lat: 纬度， stay: 停留时间， address: 地址\r\n * name  人物姓名\r\n * height: 地图高度， 非必传  默认400\r\n * initMap  百度地图初始化组件 数据格式： function\r\n */\r\nclass PathMap extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const mapId = 'map' + new Date().getTime();\r\n        this.state = {\r\n        \tmapId,\r\n            allpoints: [] // 后端传递的只是停留点， 路径点的坐标需要百度api计算， 最后按顺序合并所有的点，存储在这个位置\r\n        }\r\n    }\r\n    initMap = () => {\r\n        //无BMap时，比如无网络情况下\r\n        if(!BMap){\r\n            return;\r\n        }\r\n        if(typeof this.props.initMap === 'function'){\r\n            let map = new BMap.Map(this.state.mapId);\r\n            this.props.initMap(map);\r\n        }\r\n    }\r\n    // 根据后端传递过来的停留点， 以及百度api，计算所有渲染地图所需要的坐标点\r\n    // 转换数据， 从“请求获得的数据” =》 转换为 “请求的数据（停留点） + 百度地图计算获得的移动点数据”\r\n    // 这里有个惊天dabug， 请注意， setSearchCompleteCallback方法为异步。 并且会无序执行多次；\r\n    makeMapData = (record) => {\r\n        //无BMap时，比如无网络情况下\r\n        if(!BMap){\r\n            return;\r\n        }\r\n        // 实例化一开始的地图， 主要用于百度地图计算无法获取的移动点的数据\r\n        let map = new BMap.Map(this.state.mapId);\r\n        map.enableScrollWheelZoom();\r\n        map.centerAndZoom();\r\n        let data = record;\r\n        let ary = [];// 为以上所说bug准备，存储获得的移动点数据\r\n        data.forEach((item, index) => {\r\n            if (index !== (data.length - 1)) { // 最后一个点为终点， 不需要计算移动点数据\r\n                // 百度walking， 自动计算移动点数据\r\n                var walking = new BMap.WalkingRoute(map, { renderOptions: { map: map, autoViewport: true } });\r\n                walking.search(new BMap.Point(data[index].lng, data[index].lat), new BMap.Point(data[index - 0 + 1].lng, data[index - 0 + 1].lat));\r\n                // 异步， 多次调用， 上面说的bug就是在这个位置\r\n                walking.setSearchCompleteCallback(() => {\r\n                    let pts = walking.getResults().getPlan(0).getRoute(0).getPath();\r\n                    // 先将停留点数据注入\r\n                    let ptsObj = [\r\n                        {\r\n                            lng: item.lng + \"\",\r\n                            lat: item.lat + \"\",\r\n                            stay: item.stay,\r\n                            address: item.address\r\n                        }\r\n                    ];\r\n                    // 再将计算得到的移动点数据注入\r\n                    pts.forEach((unit) => {\r\n                        ptsObj.push({\r\n                            lng: unit.lng + \"\",\r\n                            lat: unit.lat + \"\",\r\n                            stay: \"\",\r\n                            address: \"\"\r\n                        })\r\n                    })\r\n                    ary[index] = ptsObj;\r\n                })\r\n            } else if (index === (data.length - 1)) { // 计算最后一个点时\r\n                setTimeout(() => { // 注意  上方的回调setSearchCompleteCallback是异步， 这里也必须是异步\r\n                    let allPoints = []; // 合并所有停留点以及移动点数据\r\n                    ary.forEach((aryitem) => {\r\n                        allPoints = allPoints.concat(aryitem);\r\n                    })\r\n                    allPoints.push({\r\n                        lng: item.lng + \"\",\r\n                        lat: item.lat + \"\",\r\n                        stay: item.stay,\r\n                        address: item.address\r\n                    })\r\n                    this.start(allPoints); // 调用此方法，渲染最终想要的效果页面\r\n                    this.setState({\r\n                        allpoints: allPoints\r\n                    })\r\n                }, 500)\r\n            }\r\n        })\r\n    }\r\n\r\n    // 所有坐标点就位后，开始绘制地图\r\n    start = (arrPoisData) => {\r\n        // 获取所有点的数据后， 重新实例化百度地图\r\n        let map = new BMap.Map(this.state.mapId);\r\n        map.enableScrollWheelZoom();\r\n        map.centerAndZoom();\r\n        let lushu; // 定义路书\r\n\r\n        // 设置添加路线\r\n        let arrPois = []; // 将所有传进来的数据点转换成百度坐标点 new BMap.point(lng: \"xx\", lat: \"xx\");\r\n        arrPoisData.forEach((item) => {\r\n            arrPois.push(new BMap.Point(item.lng, item.lat))\r\n        });\r\n        // 初始线路样式(移动之前的浅颜色线条)\r\n        map.addOverlay(\r\n            new BMap.Polyline(\r\n                arrPois, {\r\n                    strokeColor: '#10c55b',\r\n                    strokeWeight: 4,\r\n                    strokeOpacity: 0.4\r\n                }\r\n            )\r\n        );\r\n        map.setViewport(arrPois);\r\n\r\n        // 设置停留点数据\r\n        let landmarkPoisData = [];\r\n        arrPoisData.forEach((item, index) => {\r\n            if (item.stay && index !== 0) { // 存在停留时间时添加停留点并且起始点不停留\r\n                landmarkPoisData.push({\r\n                    lng: item.lng, // 停留点经度\r\n                    lat: item.lat, // 停留点纬度\r\n                    // 移动到停留点时需要显示的信息\r\n                    html: `<table class='maplable'>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>姓名：</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>${this.props.name}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>状态：</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>停留${item.stay}小时</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>地址：</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>${item.address}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</table>`,\r\n                    pauseTime: 2 // 停留时间\r\n                })\r\n            }\r\n        });\r\n\r\n        // 设置起始位置覆盖物maker\r\n        let startMarker = new BMap.Marker(\r\n            arrPois[0],\r\n            {\r\n                icon: new BMap.Icon(\r\n                    Start,\r\n                    new BMap.Size(24, 24), {\r\n                        anchor: new BMap.Size(12, 24)\r\n                    }\r\n                )\r\n            }\r\n        );\r\n        map.addOverlay(startMarker);\r\n\r\n        // 设置结束位置覆盖物maker\r\n        let endMarker = new BMap.Marker(\r\n            arrPois[arrPois.length - 1],\r\n            {\r\n                icon: new BMap.Icon(\r\n                    End,\r\n                    new BMap.Size(24, 24), {\r\n                        anchor: new BMap.Size(12, 24)\r\n                    }\r\n                )\r\n            }\r\n        );\r\n        map.addOverlay(endMarker);\r\n\r\n        // 设置停留点覆盖物maker以及点击事件\r\n        arrPoisData.forEach((item, index) => {\r\n            if (item.stay && index !== 0 && index !== (arrPoisData.length - 1)) { // 去掉起始结束位置（已有图标）\r\n                // 停留点覆盖物maker图标以及偏移量\r\n                let stopMarker = new BMap.Marker(\r\n                    arrPois[index],\r\n                    {\r\n                        icon: new BMap.Icon(\r\n                            StopMark,\r\n                            new BMap.Size(16, 16), {\r\n                                anchor: new BMap.Size(8, 16)\r\n                            }\r\n                        )\r\n                    }\r\n                );\r\n\r\n                // 停留点覆盖物信息窗口配置\r\n                let opts = {\r\n                    width: 180,     // 信息窗口宽度\r\n                    overflow: \"hidden\",     // 信息窗口高度\r\n                    title: \"\", // 信息窗口标题\r\n                    enableMessage: true,//设置允许信息窗发送短息\r\n                    message: \"\"\r\n                };\r\n\r\n                // 创建信息窗口对象\r\n                let infoWindow = new BMap.InfoWindow(\r\n                    `<table style='font-size: 12px;line-height: 20px;'>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>姓名：</td>\r\n\t\t\t\t\t\t\t\t\t<td>${this.props.name}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>状态：</td>\r\n\t\t\t\t\t\t\t\t\t<td>停留${item.stay}小时</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>地址：</td>\r\n\t\t\t\t\t\t\t\t\t<td>${item.address}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</table>`,\r\n                    opts\r\n                );\r\n\r\n                // 停留点覆盖物监听事件\r\n                stopMarker.addEventListener(\"click\", () => {\r\n                    //开启信息窗口\r\n                    map.openInfoWindow(infoWindow, arrPois[index]);\r\n                });\r\n                // 添加停留点覆盖物maker\r\n                map.addOverlay(stopMarker);\r\n            }\r\n        })\r\n\r\n        // 路书原型设置\r\n        BMapLib.LuShu.prototype._move = function (initPos, targetPos, effect) {// 不要使用箭头函数\r\n            let pointsArr = [initPos, targetPos]; //点数组\r\n            let me = this, //当前的帧数\r\n                currentCount = 0, //步长，米/秒\r\n                timer = 10,\r\n                step = this._opts.speed / (1000 / timer), //初始坐标\r\n                init_pos = this._projection.lngLatToPoint(initPos), //获取结束点的(x,y)坐标\r\n                target_pos = this._projection.lngLatToPoint(targetPos), //总的步长\r\n                count = Math.round(me._getDistance(init_pos, target_pos) / step);\r\n\r\n            // 移动过后的折线 \r\n            this._map.addOverlay(new BMap.Polyline(pointsArr, {\r\n                strokeColor: \"#10c55b\",\r\n                strokeWeight: 5,\r\n                strokeOpacity: 0.8\r\n            }));\r\n\r\n            //如果小于1直接移动到下一点\r\n            if (count < 1) {\r\n                me._moveNext(++me.i);\r\n                return;\r\n            }\r\n\r\n            me._intervalFlag = setInterval(\r\n                () => {\r\n                    //两点之间当前帧数大于总帧数的时候，则说明已经完成移动\r\n                    if (currentCount >= count) {\r\n                        clearInterval(me._intervalFlag);\r\n                        //移动的点已经超过总的长度\r\n                        if (me.i > me._path.length) {\r\n                            return;\r\n                        }\r\n                        //运行下一个点\r\n                        me._moveNext(++me.i);\r\n                    } else {\r\n                        currentCount++;\r\n                        let x = effect(init_pos.x, target_pos.x, currentCount, count),\r\n                            y = effect(init_pos.y, target_pos.y, currentCount, count),\r\n                            pos = me._projection.pointToLngLat(new BMap.Pixel(x, y));\r\n                        //设置移动的maker\r\n                        if (currentCount === 1) {\r\n                            let proPos = null;\r\n                            if (me.i - 1 >= 0) {\r\n                                proPos = me._path[me.i - 1];\r\n                            }\r\n                            if (me._opts.enableRotation === true) {\r\n                                me.setRotation(proPos, initPos, targetPos);\r\n                            }\r\n                            if (me._opts.autoView) {\r\n                                if (!me._map.getBounds().containsPoint(pos)) {\r\n                                    me._map.setCenter(pos);\r\n                                }\r\n                            }\r\n                        }\r\n                        // 正在移动\r\n                        me._marker.setPosition(pos);\r\n                        //设置自定义overlay的位置\r\n                        me._setInfoWin(pos);\r\n\r\n                        // 当移动点到达目的地时，重置并且循环\r\n                        if (me.i >= arrPois.length - 2) {\r\n                            setTimeout(function () {\r\n                                clearInterval(me._intervalFlag);\r\n                                currentCount = 0;\r\n                                me.i = 0;\r\n                                lushu.start();\r\n                            }, 2000)\r\n                        }\r\n                    }\r\n                },\r\n                timer\r\n            );\r\n        };\r\n\r\n        // 路书\r\n        lushu = new BMapLib.LuShu(\r\n            map,\r\n            arrPois, {\r\n                // 移动点上方， 默认显示的信息\r\n                defaultContent: `<table class='maplable'>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>姓名：</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>${this.props.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>状态：</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>移动中</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</table>`,\r\n                autoView: true, //是否开启自动视野调整，如果开启那么路书在运动过程中会根据视野自动调整\r\n                icon: new BMap.Icon(\r\n                    Red,\r\n                    new BMap.Size(24, 22), {\r\n                        anchor: new BMap.Size(12, 11)\r\n                    }\r\n                ),\r\n                speed: 200,\r\n                enableRotation: true, //是否设置移动的marker随着道路的走向进行旋转\r\n                landmarkPois: landmarkPoisData\r\n            }\r\n        );\r\n\r\n        lushu.start();\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        setTimeout(() => {\r\n            // 显示初始化地图方法\r\n            this.initMap()\r\n        },50)\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.data && !isObjectValueEqual(nextProps.data,this.props.data)) {\r\n            setTimeout(() => {\r\n                // 根据停留点，计算移动点，最终生成所有点的百度坐标， 开始路书配置...\r\n                this.makeMapData(nextProps.data)\r\n            },50)\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (isObjectValueEqual(nextProps.data,this.props.data) && nextProps.name === this.props.name) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!BMap) {\r\n            return (\r\n                <div style={{ backgroundColor: '#fff' }}><NoData data={'nodata'} height={this.props.height || 400}/></div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div id={this.state.mapId} style={{ width: \"100%\", height: this.props.height || 400 }}></div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default PathMap;\r\n\r\n","import React, { Component } from 'react';\r\nimport PathMap from '../../../common/components/Bmap/PathMap';\r\nimport { Button } from 'antd';\r\n\r\nclass Trail extends Component {\r\n    state = {\r\n        data: [],\r\n    }\r\n    getData = () => {\r\n        const data = [\r\n            { \"id\": \"e7cc29963a524f79acf1586946f01001\", \"studentNo\": \"131594206\", \"address\": \"南京工程大学食堂\", \"startTime\": \"2018-08-29 00:10:00\", \"endTime\": \"2018-08-29 00:11:00\", \"stayTime\": \"1\", \"longitude\": 118.88795, \"latitude\": 31.935234 },\r\n            { \"id\": \"e7cc29963a524f79acf1586946f01002\", \"studentNo\": \"131594206\", \"address\": \"南京工程大学食堂\", \"startTime\": \"2018-08-29 00:12:00\", \"endTime\": \"2018-08-29 00:13:00\", \"stayTime\": \"2\", \"longitude\": 118.885255, \"latitude\": 31.932775 },\r\n            { \"id\": \"e7cc29963a524f79acf1586946f01004\", \"studentNo\": \"131594206\", \"address\": \"南京工程大学食堂\", \"startTime\": \"2018-08-29 00:16:00\", \"endTime\": \"2018-08-29 00:17:00\", \"stayTime\": \"4\", \"longitude\": 118.899282, \"latitude\": 31.932679 },\r\n            { \"id\": \"e7cc29963a524f79acf1586946f01005\", \"studentNo\": \"131594206\", \"address\": \"南京工程大学食堂\", \"startTime\": \"2018-08-29 00:18:00\", \"endTime\": \"2018-08-29 00:19:00\", \"stayTime\": \"5\", \"longitude\": 118.886036, \"latitude\": 31.926738 },\r\n            { \"id\": \"e7cc29963a524f79acf1586946f01006\", \"studentNo\": \"131594206\", \"address\": \"南京工程大学食堂\", \"startTime\": \"2018-08-29 00:20:00\", \"endTime\": \"2018-08-29 00:21:00\", \"stayTime\": \"6\", \"longitude\": 118.895352, \"latitude\": 31.927519 },\r\n            { \"id\": \"e7cc29963a524f79acf1586946f01003\", \"studentNo\": \"131594206\", \"address\": \"南京工程大学食堂\", \"startTime\": \"2018-08-29 00:22:00\", \"endTime\": \"2018-08-29 00:23:00\", \"stayTime\": \"3\", \"longitude\": 118.891839, \"latitude\": 31.929151 }\r\n        ]\r\n        let newData = []; // 后端数据有出入， 循环遍历一下\r\n        data.forEach((item) => {\r\n            newData.push(\r\n                {\r\n                    lng: item.longitude,\r\n                    lat: item.latitude,\r\n                    stay: item.stayTime,\r\n                    address: item.address\r\n                }\r\n            )\r\n        })\r\n        this.setState({data: newData});\r\n    }\r\n    render() {\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <div style={{marginBottom:20}}>\r\n                    <Button onClick={this.getData}>获取数据</Button>\r\n                </div>\r\n                <PathMap data={this.state.data} name={'123'} initMap={(map)=>{\r\n                    map.enableScrollWheelZoom(true);\r\n                    map.centerAndZoom(new window.BMap.Point(118.888506, 31.928563),18);\r\n                    map.setCurrentCity(\"南京\");\r\n                }}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Trail;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZmMzOTg1My03YWQwLTQ5NzgtOWRiNi01MTYzYWRlNWY0YTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkRBOEI1ODQwMDdFMTFFNzkzMzI5QUVBRENENUJBRjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkRBOEI1ODMwMDdFMTFFNzkzMzI5QUVBRENENUJBRjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGQ0M4ODA3MzAwN0QxMUU3OTE1MkE1RENCNUFFREI4NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGQ0M4ODA3NDAwN0QxMUU3OTE1MkE1RENCNUFFREI4NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtZQYGgAAAK0SURBVHjarJRNSFRRFMf/5743juPYzKiFOS0kiogW0gfRylXQB9EHZAgFtQtcZKtoIqlNi8idkYsWrTQII1oIVkgtJCoIizIT+iDSzCx1dN58vI+5pzsyY0/JacbpwH3w3rv8/vf8z7mHRoDrtYFAfVqIztXR6EMADFckq6pQSog5YMy0rIN+or5YKPRxOhRqavP5BP5TUCuw6awQ78LBoJ77mGYet5jbRpi7tmmaXVIGHcCPWSmfpOw/HI0o7BPiVoMQ31PMrS8cx7dSAS0jskdlUst82FdWtlidqEIn2h8mOmMC+mcpX9UIYRVlkVr6BmBNHzC0LhSqVtBlN0vmpKJ3TDO3h4WYKsiijOWfAOMXcD9h5T+cEveVE52vIxo3mTunmOsKEci0pTUI3E6YZmFpE5V5iVqqib4qoa5JKdfnsyhXi+BbYKA+ENji0bRiayktKXvjRBeqiIaXZjC/QS1zAuj5l03LOVEmxCEFH7Kl7J9l3uGbmSG3QMYmuwe4E7csp5R75RFid5Do5Vww+DzG3Ki7fjpqKFjKX8zZduk3mGizAex0C+Ao0FTh9eqlgJlo6rWUV/cZhjIEUTdMXwUc14SYL0ixkSaaGEinLzcnEv3qNa5WIlPXnAA9ALZWejwNsnjwl17HuXg6mXzmBmcs/1FZyTkBsRY45VWjggu8/orwvttxIpFU6o0LbOXAC7ZkHkeAcj/QjDxjIgtmRRm8YduRdtP8sAScdoPdAnQOOOD3emt4ebCMAU8vmWak27bHsuBkPrBbQAsAJz0ez9+KK6NEj1qSybbHjjPpBitoupAa6TeBWr+m7ZWLe9j5Cdw7Fo9fGZZyxgW2CwUvCGwHTuR6X4Gtb2p4NRrGNYPZyIJT2ROvpHuhK383Sk0bHWW+uysW68wWLQe2VwrOxW8BBgAZACXiuFQC4wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB0UlEQVQ4T4WSPWgUURSFvzNNoggGwZ0lkkZs/IFUVoJoEQJBQSwkSLCwERHcme0sFhdJYeVMtFRsgojY+geWUbBQIgrRxsJCmGcQNiJKopkrM85sNpNdfN19953vnnvfFZUzEtnIEFwSXECMAT8N3slY/A23voX60CtRb1CLzZfxRmJPFZzHxprBRRfqbpnfAJjJj1mQOPLvLQ54LvhucEowWorWjanlUE+zuAuoxTbjwXwuNl46Y4KmfuWitnn+Tm5LnC+cfE5W2EtbaRdQj+0ZMFlUP+kCPaq24cf2pXSynnJ0uamFLsCPzEnUcpHHweSylvoA7gnO5kVE4Bqa63WQ2R0uLJ5IQj2uAuqRLSH2Fy5bLtBsr4O3EuOF6EXS4Tht/SkhtdgmPcjaLM+ZJNDDjSFG1vLEtTJr8Aq4AzgZBxBXge1F9R+rxlgnVKcLyBZoGD4hdvXdgZ5Lg1kXqLXpG7PAn7NpGff/A/iYdBinrbUtgBwS27xgZgBk1VIOu6bel/lNq5xf3rQhP+W14FAVkhrnvobKl20wANh9w/Z5HouCHd2hiiuuoetV6FYHxYt6ZMeAJ4htBg9coOl+bQ0EZI9rsU3IaLgVTpdDq0L+Al/foRGygYUJAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC3UlEQVRIS52VS4wMURSG//9WV9uSWBndCcF0x0Yk4h2PTCISwUashAiTjEeCmAWJRIJ4JGLDLIhgJwQbY+MVQZjxnmC6mZBMDTsWdrq67i/ddOuqrukpalfn/ud8555HFdHiEeAUss5KyKwgMA/E9IpcwBCFftHeyg0Hvaya4h+OdlDMuhskHgMxqVUSkN4Q2Nru+c/idLGAQsbtAtnTMnDDoaQyhN35Ef901KcJUMy6GwVeTBq8USfZvXmvfLLRFgIMtqXm0/AhSOd/AJAsrDpyX8r3a/5hQNZ9QXB2OCv1GeG8DM9WSwE8bnA2IBeHkpHe5Dx/VhOgkE0tBMyjSObHaTVkLF6WU1wNaBXAmzWNCXRDDl831T2wHe1fyncr9voNipn0ERH7w2I9hjBgrO0NjOkmMBPkxLomCNbBca5GAZLO5D1/RwhQyLr3AC6riSV9A/CWwPu/AE4Ggj0Sf1R0KZWHAiftNQGgJ/lhf0EIMJhJfyQxrUFcFHC58u7+LPX449LbIMynDc7VspZ0ieTGmIH4nBsuTY3cIP0JwJTwiNl9gumUxRoaDFTPGssifAXQD2JteDAwlPdK1a2v92Aw4z4lOTcM0CYLHjW2NMciNZ2GW4y1161xrlV0Anop+wQ0hyOT9yDv+UujgNMkt4cAVnNluFcWh+o3EA5J9l5dRx6LJgbhcM4rHQgBPmRTHRbmdkOTvzvUehtovIPgadlxBwhOiKl3jMkuyg2Xq/tSL5EAFrPuS4C/l0R6COAdgE4AZ2F1RWz+ahpjlgg4WKdIz3OeP6f2HtrkQltqOQzvgKzaBZUIppNlXU0qMMLCGSN+XyygYixMTnXDmBOJg4a7uznn+RfCgxITqZBxT4Hc9S8QWe1M9LmuBf0XyGjBQ02OyzYJpFXwMQHVnrQo11jBEwH+QHpAdkWWsLN9xD83Vp9G/elHHQsZtw6hVaLgiW/Q0PgeCq+SZF7z+QWTFkkoE+welgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC/ElEQVRIS52VS4gUVxSG//9WVbsJ7gZUugfia6oVIe4SQwYJiA8EF1EIqLjwtZDBxxB0kbiTgCgTghszCwUTQfCBAUUMqCOICwV3dreikep2oaAgyaoe95fqcZyumuqe1rvre/77f+ece24X0WUJME/KzjoZsxbCNwIWkigBeAbgoay94beSqwTibh7pPouCjbK3S+RREJVehyU8dWj3LQ3if7rpMgABTqPinQa5s5dxJiYJ4LGhZniUgPLnMoBaxTtLckff5p1C6Te/GR3sCqiXS1th8OdnmX84ROHHoWZ4odOjXcFka0ovQJQzAIvtMjhOYD6gvyal3NY1CaGZNMPFy4FwStMGNMrOBhnnWrZiPDXUMYFnIckhV8TWDrhTfW7Fj5PB0usZMIttfitMk2mvScCg97vAkU6xSZKNieOMA8keil+ZOL5kHW8vDPdLmkhHleRoQTUX/SDckgHUK95tkKs/iqU7Fhwx1PcADGVfWJhzboLh2OUmk+hfGZwBWTTmz/0gXJQFDJZqAPypTUn/k3hA4bAFbpH8QtIbQ4zaMJqgV9oH6CBIJ1+BoKgaROmDnG5RPQf4EDsOqSxiC2U3g84cSYdIfg3hqiM7lhiuBDiWheg/P4jmZgC1ijdBcnhaqHdzTDQvjNxv4XCBgBMQBgy0OiF9CJsJpO17C3IgV0XdD8JqHnCS5KGOO0if52MQSygkk7UygLRExC03wS+Jw/MAvixo0Xg1iPZkp6jifieaux/vAHpF4bqER67FvdjFuJEOOGHciEreBhK7Aa4qmCAYm/ywtJVczgDSH7WKd7/d33QJLQEPAK1JL3i6MrwUdMWh/rYywyB+zkEaQ0G4jICdAWikVYB3QJqizGbdk6yg9dVmfLNTm/uzc0dJc2JWswKBoL3VIPojH5rxUGrl0q80OPIpEMn+VG3GhYkVfnDqFW8M5IF+IL3M28PXzaQfyGzmPQFpsBekH/NZAd0g/Zr3BchDZDVSbUWn+rmfvgFTEAnPPsU8PfcefDRSKJCBgVIAAAAASUVORK5CYII=\""],"sourceRoot":""}