{"version":3,"sources":["pages/DefineTable/guide.png","pages/DefineTable/DynamicTable.js"],"names":["module","exports","__webpack_require__","p","obj","key","DynamicTable","props","_this","Object","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","this","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__","call","getData","ary","forEach","item","index","children","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","D_sunmnet_react_bigdata_template_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__","concat","getColumns","dataIndex","state","columns","data","width","nextProps","_columns","sessionStorage","setItem","JSON","stringify","arr","keys","_width","length","setState","react__WEBPACK_IMPORTED_MODULE_11___default","a","createElement","antd_lib_card__WEBPACK_IMPORTED_MODULE_1___default","style","height","overflow","bodyStyle","marginBottom","paddingBottom","title","antd_lib_table__WEBPACK_IMPORTED_MODULE_3___default","dataSource","bordered","scroll","x","y","textAlign","paddingTop","src","Guid","alt","React","Component"],"mappings":"iFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,+NCIpCC,GACHC,IAAK,KAGAC,cACF,SAAAA,EAAaC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAChBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAOJ,KAoBdQ,QAAU,SAACC,GACVA,EAAIC,QACH,SAACC,EAAMC,GACFD,EAAKE,UAAYF,EAAKE,SAAS,GAClCZ,EAAKO,QAAQG,EAAKE,UAElBhB,EAAIK,OAAAY,EAAA,EAAAZ,IACAL,EADDK,OAAAa,EAAA,EAAAb,IAAA,WAAAc,OAEUL,EAAKb,KAAQ,SA7BPG,EAoCvBgB,WAAa,SAACR,GASb,OARAA,EAAIC,QACH,SAACC,EAAMC,GACND,EAAKO,UAAY,WAAaP,EAAKb,IAC/Ba,EAAKE,UAAYF,EAAKE,SAAS,KAClCF,EAAKE,SAAWZ,EAAKgB,WAAWN,EAAKE,aAIjCJ,GA3CDR,EAAKkB,OACDC,WAQAC,QAMTC,MAAO,QAjBcrB,yFAgDIsB,GAI1B,GAHA1B,GACCC,IAAK,KAEFyB,EAAUH,SAAWG,EAAUH,QAAQ,GAAI,CAE9C,IAAII,EAAWpB,KAAKa,WAAWM,EAAUH,SACzCK,eAAeC,QAAQ,SAAUC,KAAKC,UAAUJ,IAEhDpB,KAAKI,QAAQe,EAAUH,SACvB,IAAIS,EAAM3B,OAAO4B,KAAKjC,GAClBkC,EAAS,OACTF,EAAIG,QAAU,IACjBD,EAAsC,KAA3BF,EAAIG,OAAQ,GAAK,EAAI,GAAW,IAAM,KAGlD5B,KAAK6B,UACJb,QAASI,EACTH,MAAOxB,GACPyB,MAAOS,SAIRN,eAAeC,QAAQ,SAAU,MACjCtB,KAAK6B,UACJb,WACAC,QACAC,MAAO,0CAOH,OACIY,EAAAC,EAAAC,cAAAC,EAAAF,GAAMG,OAAQC,OAAQ,OAAQC,SAAU,UAAWC,WAAYF,OAAQ,OAAOC,SAAU,OAAOE,aAAc,QAAQC,cAAe,SAAUC,MAAM,MAE3JxC,KAAKe,MAAMC,SAAWhB,KAAKe,MAAMC,QAAQ,GAEzCc,EAAAC,EAAAC,cAAAS,EAAAV,GACCf,QAAShB,KAAKe,MAAMC,QACpB0B,WAAY1C,KAAKe,MAAME,KACvB0B,UAAQ,EACRC,QAAUC,EAAG7C,KAAKe,MAAMG,MAAO4B,EAAG,OAGnChB,EAAAC,EAAAC,cAAA,KAAGE,OAAQa,UAAW,SAASC,WAAY,SAC1ClB,EAAAC,EAAAC,cAAA,OAAKiB,IAAKC,IAAMC,IAAI,cAhGCC,IAAMC,WAwGlB1D","file":"static/js/20.3f683b3d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/guide.16192bc0.png\";","import React from 'react'\r\nimport { Table, Card } from \"antd\"\r\nimport Guid from './guide.png'\r\n\r\nlet obj={\r\n\tkey: \"0\"\r\n};\r\n\r\nclass DynamicTable extends React.Component{\r\n    constructor (props) {\r\n        super (props);\r\n        this.state={\r\n            columns:[\r\n//                 {\r\n//                     title: '采集人',\r\n//                     dataIndex: 'A',\r\n//                     width: 80,\r\n//                     fixed: 'left'\r\n//                 }\r\n            ],\r\n            data: [\r\n// \t\t\t\t{\r\n// \t\t\t\t\tkey: \"0\",\r\n// \t\t\t\t\tA: \"123\"\r\n// \t\t\t\t}\r\n\t\t\t],\r\n\t\t\twidth: \"100%\"\r\n        }\r\n    }\r\n\t\r\n\tgetData = (ary) => {\r\n\t\tary.forEach(\r\n\t\t\t(item, index) => {\r\n\t\t\t\tif (item.children && item.children[0]) { // 有子集， 代表有跨列，不取索引值\r\n\t\t\t\t\tthis.getData(item.children)\r\n\t\t\t\t} else{\r\n\t\t\t\t\tobj={\r\n\t\t\t\t\t\t...obj,\r\n\t\t\t\t\t\t[`columns_${item.key}`]: \"-\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\tgetColumns = (ary) => {\r\n\t\tary.forEach(\r\n\t\t\t(item, index) => {\r\n\t\t\t\titem.dataIndex = \"columns_\" + item.key;\r\n\t\t\t\tif (item.children && item.children[0]) {\r\n\t\t\t\t\titem.children = this.getColumns(item.children)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\treturn ary\r\n\t}\r\n\t\r\n\tcomponentWillReceiveProps (nextProps) {\r\n\t\tobj={\r\n\t\t\tkey: \"0\"\r\n\t\t};\r\n\t\tif (nextProps.columns && nextProps.columns[0]) {\r\n\t\t\t\r\n\t\t\tlet _columns = this.getColumns(nextProps.columns);\r\n\t\t\tsessionStorage.setItem(\"colums\", JSON.stringify(_columns))\r\n\t\t\t\r\n\t\t\tthis.getData(nextProps.columns)\r\n\t\t\tlet arr = Object.keys(obj); \r\n\t\t\tlet _width = \"100%\"; // 根据列的个数调整table的宽度\r\n\t\t\tif (arr.length >= 6) {\r\n\t\t\t\t_width = ((arr.length -1) / 5 - 1 ) * 50 + 100 + \"%\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolumns: _columns,\r\n\t\t\t\tdata: [obj],\r\n\t\t\t\twidth: _width\r\n\t\t\t})\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsessionStorage.setItem(\"colums\", null)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tdata: [],\r\n\t\t\t\twidth: \"100%\"\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n    render () {\r\n        return (\r\n            <Card style={{height: \"100%\", overflow: \"hidden\"}} bodyStyle={{height: \"100%\",overflow: \"auto\",marginBottom: \"-56px\",paddingBottom: \"-56px\"}} title=\"预览\">\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.columns && this.state.columns[0]\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\t\t\tdataSource={this.state.data}\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\tscroll={{ x: this.state.width, y: 600 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<p style={{textAlign: \"center\",paddingTop: \"50px\"}}>\r\n\t\t\t\t\t\t<img src={Guid} alt=\"\" />\r\n\t\t\t\t\t</p>\r\n\t\t\t\t}\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DynamicTable"],"sourceRoot":""}